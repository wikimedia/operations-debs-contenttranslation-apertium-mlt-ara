<?xml version="1.0" encoding="UTF-8"?>
<transfer default="chunk">
  <section-def-cats>
    <def-cat n="artic">
      <cat-item tags="det.def.*"/>
      <cat-item tags="det.def"/>
    </def-cat>
    <def-cat n="det">
      <cat-item tags="det.*"/>
      <cat-item tags="det"/>
    </def-cat>
    <def-cat n="detind">
      <cat-item tags="det.ind.*"/>
      <cat-item tags="det.ind"/>
    </def-cat>
    <def-cat n="nom">
      <cat-item tags="n.*"/>
<!--      <cat-item tags="np.*"/>   --> 
    </def-cat>
    <def-cat n="numeral">
      <cat-item tags="num.*"/>
    </def-cat>
    <def-cat n="digitnum">
      <cat-item tags="num"/>
    </def-cat>
    <def-cat n="numord">
      <cat-item tags="num.ord.*"/>
    </def-cat>
    <def-cat n="adj">
      <cat-item tags="adj.*"/>
    </def-cat>
    <def-cat n="adjcomp">
      <cat-item tags="adj.comp"/>
    </def-cat>
    <def-cat n="prep">
      <cat-item tags="pr"/>
<!-- NO! this way pr + pron. suff. are matched
      <cat-item tags="pr.*"/>  -->
    </def-cat>
    <def-cat n="pron">
      <cat-item tags="prn.*"/>
      <cat-item tags="prn.det.*"/>
    </def-cat>
    <def-cat n="freepron">
      <cat-item tags="prn.*" lemma="free"/>
    </def-cat>
    <def-cat n="p3freepron">  <!-- nominal sentences -->
      <cat-item tags="prn.p3.*" lemma="free"/>
    </def-cat>
    <!-- life would be much, _much_ simpler if pron. suffixes were always treated in one way (multiwords) -->
    <def-cat n="nom_px">
       <cat-item tags="n.*.*.px1sg"/>
       <cat-item tags="n.*.*.px2sg"/> <!-- maltese-only -->
       <cat-item tags="n.*.*.px2sg_m"/> <!-- arabic-only -->
       <cat-item tags="n.*.*.px2sg_f"/> <!-- arabic-only -->
       <cat-item tags="n.*.*.px3sg"/>
       <cat-item tags="n.*.*.px3sg_m"/>
       <cat-item tags="n.*.*.px3sg_f"/>
       <cat-item tags="n.*.*.px1pl"/>
       <cat-item tags="n.*.*.px2du"/> <!-- arabic only -->
       <cat-item tags="n.*.*.px2pl"/> <!-- maltese only -->
       <cat-item tags="n.*.*.px2pl_m"/> <!-- arabic only -->
       <cat-item tags="n.*.*.px2pl_f"/> <!-- arabic only -->
       <cat-item tags="n.*.*.px3du"/>
       <cat-item tags="n.*.*.px3pl"/> <!-- maltese only -->
       <cat-item tags="n.*.*.px3pl_m"/> <!-- arabic only -->
       <cat-item tags="n.*.*.px3pl_f"/>
    </def-cat>
    <def-cat n="non-np">
      <cat-item tags="n.*"/>
    </def-cat>
    <def-cat n="np">
      <cat-item tags="np"/>
      <cat-item tags="np.*"/>
    </def-cat>
    <def-cat n="qed">
      <cat-item lemma="qed" tags="adv"/>
    </def-cat>
    <def-cat n="se">
      <cat-item lemma="se" tags="adv"/>
      <cat-item lemma="ser" tags="adv"/>
    </def-cat>
    <def-cat n="vaux">
      <cat-item tags="vaux.past.*"/>
      <cat-item tags="vaux.pres.*"/>
      <cat-item tags="vaux.imp.*"/>
      <cat-item tags="vaux.*.past.*"/>
      <cat-item tags="vaux.*.pres.*"/>
      <cat-item tags="vaux.*.imp.*"/>
    </def-cat>
    <def-cat n="vrb">
      <cat-item tags="vblex.*.past.*"/>
      <cat-item tags="vblex.*.pres.*"/>
      <cat-item tags="vblex.*.imp.*"/>
    </def-cat>
    <def-cat n="modalvrb">
      <cat-item tags="vblex.*" lemma="ħabb"/>
      <cat-item tags="vblex.*" lemma="seta"/>
      <cat-item tags="vblex.*" lemma="ried"/>
      <cat-item tags="vblex.*" lemma="ipprova"/>
    </def-cat>
    <def-cat n="vrbpast"> 
      <cat-item tags="vblex.tv.past.*"/>
      <cat-item tags="vblex.iv.past.*"/>
      <cat-item tags="vblex.TD.past.*"/>
      <cat-item tags="vaux.iv.past.*"/>
    </def-cat>
    <def-cat n="modalpast">
      <cat-item tags="vblex.tv.past.*" lemma="ħabb"/>
      <cat-item tags="vblex.tv.past.*" lemma="seta"/>
      <cat-item tags="vblex.tv.past.*" lemma="ried"/>
      <cat-item tags="vblex.tv.past.*" lemma="ipprova"/>
    </def-cat>
    <def-cat n="modalpres">
      <cat-item tags="vblex.tv.pres.*" lemma="ħabb"/>
      <cat-item tags="vblex.tv.pres.*" lemma="seta"/>
      <cat-item tags="vblex.tv.pres.*" lemma="ried"/>
      <cat-item tags="vblex.tv.pres.*" lemma="ipprova"/>
    </def-cat>
    <def-cat n="gie">
      <cat-item tags="vblex.tv.*" lemma="ġie"/>
    </def-cat>
    <def-cat n="vrbpres">
      <cat-item tags="vblex.tv.pres.*"/>
      <cat-item tags="vblex.iv.pres.*"/>
      <cat-item tags="vblex.TD.pres.*"/>
<!--      <cat-item tags="vaux.iv.pres.*"/> -->
    </def-cat>
    <def-cat n="xneg"> 
      <cat-item tags="neg"/>
    </def-cat>

    <def-cat n="kien">
      <cat-item tags="vaux.*" lemma="kien"/>
    </def-cat>
    <def-cat n="kienpres">
      <cat-item tags="vaux.iv.pres.*" lemma="kien"/>
    </def-cat>
    <def-cat n="kienpast">
      <cat-item tags="vaux.iv.past.*" lemma="kien"/>
    </def-cat>
    <def-cat n="kellu">
      <cat-item tags="vaux.*" lemma="kellu"/>
    </def-cat>
    <def-cat n="kellupres">
      <cat-item tags="vaux.iv.pres.*" lemma="kellu"/>
    </def-cat>
    <def-cat n="kellupast">
      <cat-item tags="vaux.iv.past.*" lemma="kellu"/>
    </def-cat>

    <def-cat n="għad">
      <cat-item tags="vaux.*" lemma="għad"/>
    </def-cat>
    <def-cat n="qagħad">
      <cat-item tags="vaux.iv.pprs.*" lemma="qagħad"/>
<!--      <cat-item tags="vaux.iv.pres.*" lemma="qagħad"/>  -->
    </def-cat>

    <def-cat n="neg">
      <cat-item tags="neg"/>
    </def-cat>
    <def-cat n="dualis_num">   
      <cat-item tags="num.mf.sp" lemma="żewġ"/>
    </def-cat>
    <def-cat n="two_num">   
      <cat-item tags="num" lemma="2"/>  
    </def-cat>
    <def-cat n="u_prn"> 
      <cat-item tags="prn.*" lemma="u"/>
    </def-cat>
    <def-cat n="lu_prn"> 
      <cat-item tags="prn.*" lemma="lu"/>
    </def-cat>
    <def-cat n="d_obj">
      <cat-item tags="pr" lemma="lil"/>
    </def-cat>
    <def-cat n="ma_neg"> 
      <cat-item tags="adv" lemma="ma"/>
    </def-cat>
    <def-cat n="ta_pr"> 
      <cat-item tags="pr" lemma="ta'"/>
    </def-cat> 
    <def-cat n="minn_pr"> 
      <cat-item tags="pr" lemma="minn"/>
    </def-cat>
    <def-cat n="fi_pr"> 
      <cat-item tags="pr" lemma="fi"/>
    </def-cat> 
    <def-cat n="fost_pr"> 
      <cat-item tags="pr" lemma="fost"/>
    </def-cat>
    <def-cat n="biex"> 
      <cat-item tags="cnjsub" lemma="biex"/>
      <cat-item tags="cnjsub" lemma="sabiex"/>
    </def-cat>
    <def-cat n="past_subj_cnjsub"> 
      <cat-item tags="cnjsub" lemma="wara li"/>
    </def-cat>
    <def-cat n="prepgen">
      <cat-item tags="pr" lemma="quddiem"/>
    </def-cat>
    <def-cat n="pron_ind"> 
      <cat-item tags="prn.ind.*"/>
    </def-cat>
    <def-cat n="nom_attr"> 
      <cat-item tags="adj.*"/>
<!--      <cat-item tags="vblex.tv.pprs.*"/>
      <cat-item tags="vblex.iv.pprs.*"/>
      <cat-item tags="vblex.TD.pprs.*"/> -->
    </def-cat>
    <def-cat n="particip"> 
      <cat-item tags="vblex.tv.pprs.*"/>
      <cat-item tags="vblex.iv.pprs.*"/>
      <cat-item tags="vblex.TD.pprs.*"/>
      <cat-item tags="vblex.tv.pp.*"/>
      <cat-item tags="vblex.iv.pp.*"/>
      <cat-item tags="vblex.TD.pp.*"/>
    </def-cat>
    <def-cat n="pp"> 
      <cat-item tags="vblex.tv.pp.*"/>
      <cat-item tags="vblex.iv.pp.*"/>
      <cat-item tags="vblex.TD.pp.*"/>
    </def-cat>
    <def-cat n="cnjcoo"> 
      <cat-item tags="cnjcoo"/>
    </def-cat>
    <def-cat n="cnjsub"> 
      <cat-item tags="cnjsub"/>
    </def-cat>
    <def-cat n="adv">
      <cat-item tags="adv"/>
    </def-cat>
    <def-cat n="detdem">
      <cat-item tags="det.dem.*"/>
    </def-cat>
    <def-cat n="rel">
      <cat-item tags="rel.*" lemma="li"/>
    </def-cat>
    <def-cat n="detqnt">
      <cat-item tags="det.qnt"/>
      <cat-item tags="det.qnt.*" lemma="ħafna"/>
      <cat-item tags="det.qnt.*" lemma="bosta"/>
    </def-cat>
    <def-cat n="detqnt_comp">
      <cat-item tags="det.qnt.*" lemma="aktar"/>
      <cat-item tags="det.qnt.*" lemma="izjed"/>
      <cat-item tags="det.qnt.*" lemma="anqas"/>
    </def-cat>
    <def-cat n="mod_adv">
      <cat-item tags="adv" lemma="relattivament"/>
    </def-cat>
    <def-cat n="cm">
      <cat-item tags="cm"/>
    </def-cat>
    <def-cat n="xi">
      <cat-item tags="det.ind.*" lemma="xi"/>
    </def-cat>
    <def-cat n="nompl">
      <cat-item tags="n.*.pl"/>
      <cat-item tags="n.*.pl.*"/>
    </def-cat>
    <def-cat n="nomsg">
      <cat-item tags="n.*.sg"/>
      <cat-item tags="n.*.sg.*"/>
    </def-cat>
    <def-cat n="postdet">
      <cat-item tags="det.ind.*" lemma="ieħor"/>
    </def-cat>
    <def-cat n="det_px">
       <cat-item tags="det.*.*.*.px1sg"/>
       <cat-item tags="det.*.*.*.px2sg"/> <!-- maltese-only -->
       <cat-item tags="det.*.*.*.px2sg_m"/> <!-- arabic-only -->
       <cat-item tags="det.*.*.*.px2sg_f"/> <!-- arabic-only -->
       <cat-item tags="det.*.*.*.px3sg"/>
       <cat-item tags="det.*.*.*.px3sg_m"/>
       <cat-item tags="det.*.*.*.px3sg_f"/>
       <cat-item tags="det.*.*.*.px1pl"/>
       <cat-item tags="det.*.*.*.px2du"/> <!-- arabic only -->
       <cat-item tags="det.*.*.*.px2pl"/> <!-- maltese only -->
       <cat-item tags="det.*.*.*.px2pl_m"/> <!-- arabic only -->
       <cat-item tags="det.*.*.*.px2pl_f"/> <!-- arabic only -->
       <cat-item tags="det.*.*.*.px3du"/>
       <cat-item tags="det.*.*.*.px3pl"/> <!-- maltese only -->
       <cat-item tags="det.*.*.*.px3pl_m"/> <!-- arabic only -->
       <cat-item tags="det.*.*.*.px3pl_f"/>
    </def-cat>

    <!-- numerals -->

    <def-cat n="units">   <!-- or rather 3-to-10; ok, I hope noone will write "ten and twenty + noun" - or the noun will get wrong number and case -->
      <cat-item tags="num.mf.sp" lemma="tli"/>
      <cat-item tags="num.mf.sp" lemma="erb"/>
      <cat-item tags="num.mf.sp" lemma="ħam"/>
      <cat-item tags="num.mf.sp" lemma="sitt"/>
      <cat-item tags="num.mf.sp" lemma="seb"/>
      <cat-item tags="num.mf.sp" lemma="tmi"/>
      <cat-item tags="num.mf.sp" lemma="dis"/>
      <cat-item tags="num.mf.sp" lemma="għax"/>
    </def-cat>

    <def-cat n="teens">
      <cat-item tags="num.mf.sp" lemma="ħdax"/>
      <cat-item tags="num.mf.sp" lemma="tnax"/>
      <cat-item tags="num.mf.sp" lemma="tlettax"/>
      <cat-item tags="num.mf.sp" lemma="erbatax"/>
      <cat-item tags="num.mf.sp" lemma="ħmistax"/>
      <cat-item tags="num.mf.sp" lemma="sittax"/>
      <cat-item tags="num.mf.sp" lemma="sbatax"/>
      <cat-item tags="num.mf.sp" lemma="tmintax"/>
      <cat-item tags="num.mf.sp" lemma="dsatax"/>
    </def-cat>

    <def-cat n="tens">  <!-- 20, 30, ..., 90 -->
      <cat-item tags="num.mf.sp" lemma="għoxrin"/>
      <cat-item tags="num.mf.sp" lemma="tletin"/>
      <cat-item tags="num.mf.sp" lemma="erbgħin"/>
      <cat-item tags="num.mf.sp" lemma="ħamsin"/>
      <cat-item tags="num.mf.sp" lemma="sittin"/>
      <cat-item tags="num.mf.sp" lemma="sebgħin"/>
      <cat-item tags="num.mf.sp" lemma="tmenin"/>
      <cat-item tags="num.mf.sp" lemma="disgħin"/>
    </def-cat>

    <def-cat n="hundreds">  
      <cat-item tags="num.mf.*" lemma="mija"/>  <!-- really, no construct state form?? -->
      <cat-item tags="num.mf.*" lemma="elf"/>
      <cat-item tags="num.mf.*" lemma="miljun"/>
      <cat-item tags="num.mf.*" lemma="biljun"/>
      <cat-item tags="num.mf.*" lemma="triljun"/>
    </def-cat>

    <def-cat n="num_pl">  
      <cat-item tags="num.*.pl"/>
    </def-cat>

  </section-def-cats>


  <section-def-attrs>
    <def-attr n="gen">
       <attr-item tags="m"/>
       <attr-item tags="f"/>
       <attr-item tags="mf"/>
       <attr-item tags="mp"/>
       <attr-item tags="mnp"/>
       <attr-item tags="fp"/>
       <attr-item tags="fnp"/>
       <attr-item tags="mfp"/>
       <attr-item tags="GD"/>
    </def-attr>
    <def-attr n="nbr">
       <attr-item tags="sg"/>
       <attr-item tags="pl"/>
       <attr-item tags="sp"/>
       <attr-item tags="col"/>
       <attr-item tags="du"/>
       <attr-item tags="ND"/>
    </def-attr>
    <def-attr n="a_adj">
       <attr-item tags="adj"/>
    </def-attr>
    <def-attr n="a_nom">
       <attr-item tags="n"/>
       <attr-item tags="np"/>
       <attr-item tags="np.al"/>
       <attr-item tags="np.top"/>
       <attr-item tags="np.cog"/>
       <attr-item tags="np.ant"/>
       <attr-item tags="np.org"/>
     </def-attr>
    <def-attr n="a_trans">
       <attr-item tags="tv"/>
       <attr-item tags="iv"/>
       <attr-item tags="TD"/>
    </def-attr>
    <def-attr n="a_voice">
       <attr-item tags="actv"/>
       <attr-item tags="pasv"/>
    </def-attr>
    <def-attr n="a_particip">
       <attr-item tags="pprs"/>
       <attr-item tags="pp"/>
    </def-attr>
     <def-attr n="temps">
        <attr-item tags="pres"/>
        <attr-item tags="fut"/>
        <attr-item tags="past"/>
<!--        <attr-item tags="pp"/> -->
        <attr-item tags="inf"/>
        <attr-item tags="ger"/>
<!--        <attr-item tags="pprs"/> -->
        <attr-item tags="imp"/>
        <attr-item tags="subjun"/>   <!-- ar only -->
        <attr-item tags="apocop"/>   <!-- ar only -->
     </def-attr>
    <def-attr n="poss">
       <attr-item tags="px1sg"/>
       <attr-item tags="px2sg"/> <!-- maltese-only -->
       <attr-item tags="px2sg_m"/> <!-- arabic-only -->
       <attr-item tags="px2sg_f"/> <!-- arabic-only -->
       <attr-item tags="px3sg"/>
       <attr-item tags="px3sg_m"/>
       <attr-item tags="px3sg_f"/>
       <attr-item tags="px1pl"/>
       <attr-item tags="px2du"/> <!-- arabic only -->
       <attr-item tags="px2pl"/> <!-- maltese only -->
       <attr-item tags="px2pl_m"/> <!-- arabic only -->
       <attr-item tags="px2pl_f"/> <!-- arabic only -->
       <attr-item tags="px3du"/>
       <attr-item tags="px3pl"/> <!-- maltese only -->
       <attr-item tags="px3pl_m"/> <!-- arabic only -->
       <attr-item tags="px3pl_f"/> <!-- arabic only -->
    </def-attr>
    <def-attr n="a_anim">
       <attr-item tags="aa"/>
       <attr-item tags="nn"/>
    </def-attr>
    <def-attr n="pers">
       <attr-item tags="p1"/>
       <attr-item tags="p2"/>
       <attr-item tags="p3"/>
    </def-attr>
    <def-attr n="a_prn">
       <attr-item tags="prn"/>
       <attr-item tags="prn.ref"/>
       <attr-item tags="prn.ind"/>
       <attr-item tags="prn.dem"/>
       <attr-item tags="prn.def"/>
       <attr-item tags="prn.itg"/>
       <attr-item tags="prn.pers"/>
       <attr-item tags="prn.pos"/>
       <attr-item tags="prn.recip"/>
    </def-attr>
    <def-attr n="a_det">
       <attr-item tags="det"/>
       <attr-item tags="det.ref"/>
       <attr-item tags="det.ind"/>
       <attr-item tags="det.dem"/>
       <attr-item tags="det.def"/>
       <attr-item tags="det.itg"/>
       <attr-item tags="det.pers"/>
       <attr-item tags="det.pos"/>
       <attr-item tags="det.ord"/>
       <attr-item tags="det.qnt"/>
    </def-attr>
    <def-attr n="a_prn_ind">
       <attr-item tags="prn.ind"/>
    </def-attr>
    <def-attr n="a_det_dem">
       <attr-item tags="det.dem"/>
    </def-attr>
    <def-attr n="a_rel">
       <attr-item tags="rel.an"/>
       <attr-item tags="rel.aa"/>
       <attr-item tags="rel.nn"/>
    </def-attr>
    <def-attr n="a_verb">
       <attr-item tags="vblex"/>
       <attr-item tags="vmod"/>
       <attr-item tags="vaux"/>
    </def-attr>
    <def-attr n="a_pr">
       <attr-item tags="pr"/>
    </def-attr>
    <def-attr n="a_pron">
       <attr-item tags="pron"/>
    </def-attr>
    <def-attr n="a_neg">
       <attr-item tags="neg"/>
    </def-attr>
    <def-attr n="case">    <!-- Arabic only: noun cases -->
       <attr-item tags="nom"/>
       <attr-item tags="gen"/>
       <attr-item tags="acc"/>
       <attr-item tags="CD"/>
    </def-attr>
    <def-attr n="comp">    <!-- comparative -->
       <attr-item tags="comp"/>
    </def-attr>
     <def-attr n="mood">   <!-- Arabic only: verb (imperfectum) moods -->
        <attr-item tags="apocop"/>
        <attr-item tags="subjun"/>
     </def-attr>
    <def-attr n="a_num">
       <attr-item tags="num"/>
       <attr-item tags="num.ord"/>
    </def-attr>
    <def-attr n="a_nom_attr">
       <attr-item tags="adj"/>
       <attr-item tags="vblex.tv.pprs"/>
       <attr-item tags="vblex.iv.pprs"/>
       <attr-item tags="vblex.TD.pprs"/>
    </def-attr>
  </section-def-attrs>


  <section-def-vars>
    <def-var n="numero"/>
    <def-var n="genero"/>
    <def-var n="person"/>
    <def-var n="px"/>
  </section-def-vars>


  <section-def-lists>

    <def-list n="minn_bi_verbs" c="mt verbs with 'minn' prepostions translated to ar verbs with 'ب' preposition">
      <list-item v="تمتع"/>
    </def-list>

    <def-list n="fi_min_verbs" c="mt verbs with 'fi' prepostions translated to ar verbs with 'من' preposition">
      <list-item v="تألف"/>
    </def-list>

    <def-list n="kontra__verbs" c="mt verbs with 'kontra' prepostions translated to ar verbs without preposition">
      <list-item v="نافس"/>
    </def-list>

    <def-list n="dir_obj_to_subj_verbs" c="what is dir. obj. in  mt, becomes subject in ar">
      <list-item v="أعجب"/>
    </def-list>

    <def-list n="indir_obj_to_subj_verbs" c="what is indir. obj. in  mt, becomes subject in ar">
      <list-item v="نجح"/>
    </def-list>

    <def-list n="cnjsub_acc"> 
      <list-item v="أن"/>
      <list-item v="إن"/>
      <list-item v="لكن"/>
      <list-item v="كأن"/>
      <list-item v="ليت"/>
      <list-item v="لعل"/>
      <list-item v="رغم&lt;b/&gt;أن"/>
    </def-list>

  </section-def-lists>


  <section-def-macros>

    <def-macro n="set_gen_nbr_case" npar="1"> <!-- nouns, adjs etc - set gen, nbr, case if GD, ND and/or CD; default values m, sg, nom -->
      <choose>
	<when> 
	  <test>
	    <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="GD"/></equal>
	  </test>
	  <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
	</when>
       </choose> 
      <choose>
	<when> 
	  <test>
	    <equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="ND"/></equal>
	  </test>
	  <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></let>
	</when>
       </choose> 
      <choose>
	<when> 
	  <test>
	    <equal><clip pos="1" side="tl" part="case"/><lit-tag v="CD"/></equal>
	  </test>
	  <let><clip pos="1" side="tl" part="case"/><lit-tag v="nom"/></let>
	</when>
       </choose>    
    </def-macro>


    <def-macro n="f_concord1" npar="1">
      
      <let><var n="genero"/><lit-tag v="m"/></let>
      <choose><!--To determine value of variables of gender and
		  number and propagate to other rules.  Variables are
		  not used again in this rule -->
	<when> 
	  <test>
	    <equal>
	      <clip pos="1" side="tl" part="gen"/>
	      <lit-tag v="m"/>
	    </equal>
	  </test>
	  <let><var n="genero"/><lit-tag v="m"/></let>
	</when>
	<when>
	  <test>
	    <equal>
	      <clip pos="1" side="tl" part="gen"/>
	      <lit-tag v="f"/>
	    </equal>
	  </test>
	  <let><var n="genero"/><lit-tag v="f"/></let>
	</when>
      </choose> 
      <choose>
	<when> 
	  <test>
	    <equal>
	      <clip pos="1" side="tl" part="nbr"/>
	      <lit-tag v="sg"/>
	    </equal>
	  </test>
	  <let><var n="numero"/><lit-tag v="sg"/></let>
	</when>
	<when> 
	  <test>
	    <equal>
	      <clip pos="1" side="tl" part="nbr"/>
	      <lit-tag v="pl"/>
	    </equal>
	  </test>
	  <let><var n="numero"/><lit-tag v="pl"/></let>
	</when>
      </choose>
      <choose>
	<when>
	  <test> <!-- If word has GD or ND, we try to assign the
		      gender or number of the previous rule. If there is no
		      value for the gender or number variable from previous
		      rules, gender will be masculine and number singular.-->
	    <equal>
	      <clip pos="1" side="tl" part="gen"/>
	      <lit-tag v="GD"/>
	    </equal>
	  </test>
	  <choose> 
	    <when>
	      <test>
		<equal>
		  <var n="genero"/>
		  <lit-tag v="f"/>
		</equal>
	      </test>
	      <let><clip pos="1" side="tl" part="gen"/><lit-tag v="f"/></let>
	    </when>
	    <otherwise>
	      <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
	    </otherwise>
	  </choose>
	</when>
      </choose>
      <choose>
	<when>
	  <test> 
	    <equal>
	      <clip pos="1" side="tl" part="nbr"/>
	      <lit-tag v="ND"/>
	    </equal>
	  </test>
	  <choose> 
	    <when>
	      <test>
		<equal>
		  <var n="numero"/>
		  <lit-tag v="pl"/>
		</equal>
	      </test>
	      <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="pl"/></let>                   
	    </when>
	    <otherwise>
	      <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></let>
	    </otherwise>
	  </choose>
	</when>
      </choose>    
    </def-macro>


    <def-macro n="myf_concord2" npar="2">

      <!-- first set number and gender, if not set -->
      <choose>
	<when> 
	  <test>
	    <equal>
	      <clip pos="1" side="tl" part="gen"/>
	      <lit-tag v="GD"/>
	    </equal>
	  </test>
          <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
	</when>
      </choose>

      <choose>
	<when> 
	  <test>
	    <equal>
	      <clip pos="1" side="tl" part="nbr"/>
	      <lit-tag v="ND"/>
	    </equal>
	  </test>
          <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></let>
	</when>
      </choose>      

      <choose>
	<when>  <!-- singular: copy nbr and gen --> 
	  <test>
	    <equal>
	      <clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/>
	    </equal>
	  </test>
	  <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></let> 
	  <let>
	     <clip pos="2" side="tl" part="gen"/>
	     <clip pos="1" side="tl" part="gen"/>
	  </let>
	</when>
	<otherwise> <!-- plural -->
	  <choose>
	    <when> <!-- aa & pl: copy gen and nbr -->
	      <test>
	  	<equal><clip pos="1" side="tl" part="a_anim"/><lit-tag v="aa"/></equal>
	      </test>
  	      <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="pl"/></let> 
	      <let>
	         <clip pos="2" side="tl" part="gen"/>
	         <clip pos="1" side="tl" part="gen"/>
	      </let>
	    </when>
	    <otherwise> <!-- nn & pl: set nbr to sg and gen to f -->
	      <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></let>
	      <let><clip pos="2" side="tl" part="gen"/><lit-tag v="f"/></let>
	    </otherwise>
	  </choose>
	</otherwise>
      </choose>    
    </def-macro>


    <def-macro n="adjf_concord2" npar="2">   <!-- same as myf_concord2 -->

      <!-- first set number and gender, if not set -->
      <choose>
	<when> 
	  <test>
	    <equal>
	      <clip pos="1" side="tl" part="gen"/>
	      <lit-tag v="GD"/>
	    </equal>
	  </test>
          <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
	</when>
      </choose>

      <choose>
	<when> 
	  <test>
	    <equal>
	      <clip pos="1" side="tl" part="nbr"/>
	      <lit-tag v="ND"/>
	    </equal>
	  </test>
          <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></let>
	</when>
      </choose>      

      <choose>
	<when>  <!-- singular: copy nbr and gen --> 
	  <test>
	    <equal>
	      <clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/>
	    </equal>
	  </test>
	  <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></let> 
	  <let>
	     <clip pos="2" side="tl" part="gen"/>
	     <clip pos="1" side="tl" part="gen"/>
	  </let>
	</when>
	<otherwise> <!-- plural -->
	  <choose>
	    <when> <!-- aa & pl: copy gen and nbr -->
	      <test>
		<equal><clip pos="1" side="tl" part="a_anim"/><lit-tag v="aa"/></equal>
	      </test>
  	      <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="pl"/></let> 
	      <let>
	         <clip pos="2" side="tl" part="gen"/>
	         <clip pos="1" side="tl" part="gen"/>
	      </let>
	    </when>
	    <otherwise> <!-- nn & pl: set nbr to sg and gen to f -->
	      <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></let>
	      <let><clip pos="2" side="tl" part="gen"/><lit-tag v="f"/></let>
	    </otherwise>
	  </choose>
	</otherwise>
      </choose>    
    </def-macro>



    <def-macro n="verbf_concord2" npar="2"> <!-- first verb, second noun etc. -->

      <!-- first set number and gender, if not set -->
      <choose>
	<when> 
	  <test>
	    <equal>
	      <clip pos="2" side="tl" part="gen"/>
	      <lit-tag v="GD"/>
	    </equal>
	  </test>
          <let><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></let>
	</when>
      </choose>

      <choose>
	<when> 
	  <test>
	    <equal>
	      <clip pos="2" side="tl" part="nbr"/>
	      <lit-tag v="ND"/>
	    </equal>
	  </test>
          <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></let>
	</when>
      </choose>      

      <choose>
	<when>  <!-- singular: copy nbr and gen --> 
	  <test>
	    <equal>
	      <clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/>
	    </equal>
	  </test>
	  <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></let> 
	  <let>
	     <clip pos="1" side="tl" part="gen"/>
	     <clip pos="2" side="tl" part="gen"/>
	  </let>
	</when>
	<otherwise> <!-- plural -->
	  <choose>
	    <when> <!-- aa & pl: copy gen, set nbr to _sg_ -->
	      <test>
		<equal><clip pos="2" side="tl" part="a_anim"/><lit-tag v="aa"/></equal>
	      </test>
  	      <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></let> 
	      <let>
	         <clip pos="1" side="tl" part="gen"/>
	         <clip pos="2" side="tl" part="gen"/>
	      </let>
	    </when>
	    <otherwise> <!-- nn & pl: set nbr to sg and gen to f -->
	      <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></let>
	      <let><clip pos="1" side="tl" part="gen"/><lit-tag v="f"/></let>
	    </otherwise>
	  </choose>
	</otherwise>
      </choose>    
    </def-macro>




    <def-macro n="set_px_gen" npar="1" c="Hebrew has px2sg_m or px2sg_f, whereas Maltese has just px2sg;
                                          similarly for px2pl, px3pl.
                                          Default to _m, but if 'genero' is f, use _f.
                                          (the 'genero' variable is set by the f_concord1 macro).">      
      <choose>
        <when>
          <test><equal><clip pos="1" side="tl" part="poss"/><lit-tag v="px2sg"/></equal></test>
          <let><clip pos="1" side="tl" part="poss"/><lit-tag v="px2sg_m"/></let>
          <choose><when>
            <test><equal><var n="genero"/><lit-tag v="f"/></equal></test>
            <let><clip pos="1" side="tl" part="poss"/><lit-tag v="px2sg_f"/></let>
          </when></choose>
        </when>
        <when>
          <test><equal><clip pos="1" side="tl" part="poss"/><lit-tag v="px2pl"/></equal></test>
          <let><clip pos="1" side="tl" part="poss"/><lit-tag v="px2pl_m"/></let>
          <choose><when>
            <test><equal><var n="genero"/><lit-tag v="f"/></equal></test>
            <let><clip pos="1" side="tl" part="poss"/><lit-tag v="px2pl_f"/></let>
          </when></choose>
        </when>
        <when>
          <test><equal><clip pos="1" side="tl" part="poss"/><lit-tag v="px3pl"/></equal></test>
          <let><clip pos="1" side="tl" part="poss"/><lit-tag v="px3pl_m"/></let>
          <choose><when>
            <test><equal><var n="genero"/><lit-tag v="f"/></equal></test>
            <let><clip pos="1" side="tl" part="poss"/><lit-tag v="px3pl_f"/></let>
          </when></choose>
        </when>
      </choose>
    </def-macro>



    <def-macro n="set_prn_suff_gen" npar="1" c="Arabic has m/f in p2 sg, pl and p3 pl. For now set gender to m">      
      <choose>
        <when>
          <test><equal><clip pos="1" side="tl" part="gen"/><lit-tag v="GD"/></equal></test>
          <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
        </when>
      </choose>
    </def-macro>



    <!-- OYYYYYYYYKOYYYYYYYN! -->


    <def-macro n="modify_verb_and_genero" npar="1" c="Guess verb gender, no gender for p1">

      <choose> <!-- default gender set to m -->
        <when> 
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let><var n="genero"/><lit-tag v="f"/></let>
        </when>
        <otherwise>
          <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
          <let><var n="genero"/><lit-tag v="m"/></let>
        </otherwise>
      </choose>
      <choose><when c="first-persons have no gender">
        <test>
          <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p1"/></equal>
        </test>
          <let><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></let>
          <let><var n="genero"/><lit-tag v="mf"/></let>
      </when></choose>
    </def-macro> 


    <!-- we should have possessive suffixes treated as pronominal suffixes (used with verbs and prepositions)! -->
    <def-macro n="prn_suff_to_px" npar="1">      
      <choose>
        <when>
          <test><equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p3"/></equal></test>
          <choose>
            <when>
              <test><equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></equal></test>
              <choose>
                <when>
                  <test><equal><clip pos="1" side="tl" part="gen"/><lit-tag v="f"/></equal></test>
                  <let><var n="px"/><lit-tag v="px3sg_f"/></let>
		</when>
		<otherwise>
                  <let><var n="px"/><lit-tag v="px3sg_m"/></let>
		</otherwise>
	      </choose>
	    </when>
	    <otherwise>
              <let><var n="px"/><lit-tag v="px3pl_m"/></let>
	    </otherwise>
	  </choose>
	</when>
        <when>
          <test><equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p2"/></equal></test>
          <choose>
            <when>
              <test><equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></equal></test>
              <let><var n="px"/><lit-tag v="px2sg_m"/></let>
	    </when>
	    <otherwise>
              <let><var n="px"/><lit-tag v="px2pl_m"/></let>
	    </otherwise>
	  </choose>
	</when>
	<otherwise>  <!-- p1 -->
          <choose>
            <when>
              <test><equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></equal></test>
              <let><var n="px"/><lit-tag v="px1sg"/></let>
	    </when>
	    <otherwise>
              <let><var n="px"/><lit-tag v="px1pl"/></let>
	    </otherwise>
	  </choose>
	</otherwise>
      </choose>
    </def-macro>

  </section-def-macros>



  <section-rules>


    <rule comment="rule 1: nom + adj gender and number agreement">
       <pattern>
         <pattern-item n="nom"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
         <call-macro n="adjf_concord2"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <out>
	   <chunk name="n_adj">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="1" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
	     <lu>
	       <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_nom"/>
               <clip pos="1" side="tl" part="gen"/>
               <clip pos="1" side="tl" part="a_anim"/>
               <clip pos="1" side="tl" part="nbr"/>
	       <clip pos="1" side="tl" part="case" link-to="5"/>
 	       <clip pos="1" side="tl" part="lemq"/>
 	     </lu>
	     <b pos="1"/>
             <lu>
	       <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_adj"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
	       <clip pos="2" side="tl" part="case" link-to="5"/>
 	       <clip pos="2" side="tl" part="lemq"/>
             </lu>
	   </chunk>
         </out>
       </action>
    </rule>


<!-- there are 2 possibilities: 'it-itfel żgħir' means either 'the small child' or 'the child is small'. This rule corresponds to the first case; but maybe it's better to have SN + SA and decide what to do in t2x --> 
    <rule comment="rule 2: artic nom + adj gender and number agreement">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="adjf_concord2"><with-param pos="2"/><with-param pos="3"/></call-macro>
         <out>
	   <chunk name="art_n_art_adj">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
	       <lu>
	         <clip pos="2" side="tl" part="lemh"/>
                 <clip pos="2" side="tl" part="a_nom"/>
                 <clip pos="2" side="tl" part="gen"/>
                 <clip pos="2" side="tl" part="a_anim"/>
                 <clip pos="2" side="tl" part="nbr"/>
	         <clip pos="2" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="2" side="tl" part="lemq"/>
 	       </lu>
  	     </mlu>
	     <b pos="1"/>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
               <lu>
	         <clip pos="3" side="tl" part="lemh"/>
                 <clip pos="3" side="tl" part="a_adj"/>
                 <clip pos="3" side="tl" part="gen"/>
                 <clip pos="3" side="tl" part="nbr"/>
	         <clip pos="3" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="3" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	   </chunk>
         </out>
       </action>
    </rule>


    <rule comment="rule 3: nom + adj gender and number agreement">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
         <pattern-item n="artic"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="adjf_concord2"><with-param pos="2"/><with-param pos="4"/></call-macro>
         <out>
	   <chunk name="art_n_art_adj">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
	       <lu>
	         <clip pos="2" side="tl" part="lemh"/>
                 <clip pos="2" side="tl" part="a_nom"/>
                 <clip pos="2" side="tl" part="gen"/>
                 <clip pos="2" side="tl" part="a_anim"/>
                 <clip pos="2" side="tl" part="nbr"/>
	         <clip pos="2" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="2" side="tl" part="lemq"/>
 	       </lu>
  	     </mlu>
	     <b pos="1"/>
  	     <mlu>
               <lu>
                 <clip pos="3" side="tl" part="whole"/>
               </lu>
               <lu>
	         <clip pos="4" side="tl" part="lemh"/>
                 <clip pos="4" side="tl" part="a_adj"/>
                 <clip pos="4" side="tl" part="gen"/>
                 <clip pos="4" side="tl" part="nbr"/>
	         <clip pos="4" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="4" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	   </chunk>
         </out>
       </action>
    </rule>


    <rule comment="rule 4: np"> 
       <pattern>
         <pattern-item n="np"/>
       </pattern>
       <action>
<!--         <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro> some ar np-s do have GD -->
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro>
	 <out>
	   <chunk name="np">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>  
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="1" side="tl" part="a_anim"/></tag>  <!-- aa for ant, cog; nn otherwise -->
	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_nom"/>
               <clip pos="1" side="tl" part="gen"/>
               <clip pos="1" side="tl" part="a_anim"/>
               <clip pos="1" side="tl" part="nbr"/>
	       <lit-tag v="nom"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule>



    <rule comment="rule 5: nom with poss. suffix">  <!-- possessive pronouns conversion, case default to nom -->
       <pattern>
         <pattern-item n="nom_px"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro> 
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro>
	 <out>
	   <chunk name="n_px">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="1" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_nom"/>
               <clip pos="1" side="tl" part="gen"/>
               <clip pos="1" side="tl" part="a_anim"/>
               <clip pos="1" side="tl" part="nbr"/>
	       <clip pos="1" side="tl" part="case" link-to="5"/> 
               <clip pos="1" side="tl" part="poss"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule>


    <rule comment="rule 6: nom without poss. suffix"> 
       <pattern>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
	 <out>
	   <chunk name="n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="1" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_nom"/>
               <clip pos="1" side="tl" part="gen"/>
               <clip pos="1" side="tl" part="a_anim"/>
               <clip pos="1" side="tl" part="nbr"/>
	       <clip pos="1" side="tl" part="case" link-to="5"/> 
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule>

    <rule comment="rule 7: determiners">  <!-- possessive pronouns conversion, add case? -->
       <pattern>
         <pattern-item n="det"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_det"/>
             <clip pos="1" side="tl" part="gen"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="poss"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 8: pronouns">  <!-- possessive pronouns conversion, add case? -->
       <pattern>
         <pattern-item n="freepron"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="1"/></call-macro>
         <out>
	   <chunk name="freeprn">
	   <tags>
	     <tag><lit-tag v="SN"/></tag>
	     <tag><clip pos="1" side="tl" part="pers"/></tag>
	     <tag><clip pos="1" side="tl" part="gen"/></tag>
	     <tag><clip pos="1" side="tl" part="nbr"/></tag>
	   </tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_prn"/>
             <clip pos="1" side="tl" part="pers"/>
             <clip pos="1" side="tl" part="gen" link-to="3"/>
             <clip pos="1" side="tl" part="nbr" link-to="4"/>
             <clip pos="1" side="tl" part="poss"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>




    <rule comment="rule 9: pronouns">  <!-- possessive pronouns conversion, add case? -->
       <pattern>
         <pattern-item n="pron"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_prn"/>
             <clip pos="1" side="tl" part="pers"/>
             <clip pos="1" side="tl" part="gen"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="poss"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 10: adj">  <!-- case default to nom -->
       <pattern>
         <pattern-item n="adj"/>
       </pattern>
       <action>
	 <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
<!--         <call-macro n="f_concord1"><with-param pos="1"/></call-macro> -->
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_adj"/>
             <clip pos="1" side="tl" part="comp"/>
             <clip pos="1" side="tl" part="gen"/>
             <clip pos="1" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 11: artic np"> <!-- no article with proper nouns; do not add 'artic' state? -->
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="np"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <out>
	   <chunk name="np">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><lit-tag v="nn"/></tag>  <!-- TODO: check np type -->
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="case" link-to="5"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	    </chunk>
          </out>
	</action>
    </rule>


    <rule comment="rule 12: artic nom">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
	 <!-- is it possible to have both artic. and poss. suffix ?? -->
<!--         <call-macro n="set_px"><with-param pos="2"/></call-macro>  -->
         <out>
	   <chunk name="art_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
	       <lu>
	         <clip pos="2" side="tl" part="lemh"/>
                 <clip pos="2" side="tl" part="a_nom"/>
                 <clip pos="2" side="tl" part="gen"/>
                 <clip pos="2" side="tl" part="a_anim"/>
                 <clip pos="2" side="tl" part="nbr"/>
	         <clip pos="2" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="2" side="tl" part="lemq"/>
 	       </lu>
  	     </mlu>
	   </chunk>
         </out>
       </action>
    </rule>



    <rule comment="rule 13: artic adj">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <mlu>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_adj"/>
               <clip pos="2" side="tl" part="comp"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
               <lit-tag v="nom"/>
	       <lit-tag v="artic"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </mlu>
         </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 14: artic numeral">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="numeral"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <mlu>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_num"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
	       <lit-tag v="nom"/>
	       <lit-tag v="artic"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </mlu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 15: numerals">
       <pattern>
         <pattern-item n="numeral"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_num"/>
               <clip pos="1" side="tl" part="gen"/>
               <clip pos="1" side="tl" part="nbr"/>
	       <lit-tag v="nom"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
         </chunk></out>
       </action>
    </rule>


<!--
    <rule comment="rule: se">
       <pattern>
         <pattern-item n="se"/>
       </pattern>
       <action>
         <out c="Delete 'se' when followed by unknown">
           <b/>
         </chunk></out>
       </action>
    </rule>
-->


<!-- add future tense ('س' + pres); for now second form 'سوف ' + pres is ok -->
<!--    <rule comment="rule 14: se verb">
       <pattern>
         <pattern-item n="se"/>
         <pattern-item n="vrb"/>
       </pattern>
       <action>
         <let>
           <clip pos="2" side="tl" part="temps"/><lit-tag v="fut"/>
         </let>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>

         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <clip pos="2" side="tl" part="temps"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>
-->

    <rule comment="rule 16: kellu ('to have') past">
       <pattern>
         <pattern-item n="kellupast"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro> 
         <out>
	   <chunk name="kien">  
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="actv"/></tag>  <!-- hm -->
 	       <tag><lit-tag v="past"/></tag>
 	       <tag><lit-tag v="p3"/></tag>
 	       <tag><lit-tag v="GD"/></tag>
   	       <tag><lit-tag v="ND"/></tag>
 	     </tags>
             <lu>
  	       <lit v="كان"/>
	       <lit-tag v="vaux"/>
	       <lit-tag v="iv"/> 
	       <lit-tag v="actv"/> 
  	       <lit-tag v="past"/>
	       <lit-tag v="p3"/>
               <clip pos="1" side="tl" part="temps" link-to="5"/>
               <clip pos="1" side="tl" part="pers" link-to="6"/>
             </lu>
	     <b/>
           </chunk>
	   <b/>
	   <chunk name="prep_prn"> 
 	     <tags>
 	       <tag><lit-tag v="SP"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="gen"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags> 
  	     <mlu>
	       <lu>
                 <lit v="عند"/>
                 <lit-tag v="pr"/>
	       </lu>
	       <lu>
                 <lit v="ه"/>
                 <lit-tag v="prn"/>
                 <clip pos="1" side="tl" part="pers"/>
                 <clip pos="1" side="tl" part="gen" link-to="3"/> 
                 <clip pos="1" side="tl" part="nbr" link-to="4"/>
               </lu>
  	     </mlu>
           </chunk>
	 </out>
       </action>
    </rule>


    <rule comment="rule 17: kellu pres">
       <pattern>
         <pattern-item n="kellupres"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <out>
	   <chunk name="prep_prn"> 
 	     <tags>
 	       <tag><lit-tag v="SP"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="gen"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags>
  	     <mlu>
	       <lu>
                 <lit v="عند"/>
                 <lit-tag v="pr"/>
	       </lu>
	       <lu>
                 <lit v="ه"/>
                 <lit-tag v="prn"/>
                 <clip pos="1" side="tl" part="pers"/>
                 <clip pos="1" side="tl" part="gen" link-to="3"/>
                 <clip pos="1" side="tl" part="nbr" link-to="4"/>
               </lu>
  	     </mlu>
           </chunk>
	 </out>
       </action>
    </rule>


    <rule comment="rule 18: kellu past neg.">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="kellupast"/>
         <pattern-item n="xneg"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <out>
	   <chunk name="kien">  
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="actv"/></tag>  <!-- hm -->
 	       <tag><lit-tag v="past"/></tag>
 	       <tag><lit-tag v="p3"/></tag>
 	       <tag><lit-tag v="GD"/></tag>
   	       <tag><lit-tag v="ND"/></tag>
 	     </tags>
	     <lu>
	       <lit v="لم"/>
	       <lit-tag v="adv"/>
	     </lu>
	     <b/>
             <lu>
  	       <lit v="كان"/>
	       <lit-tag v="vaux"/>
	       <lit-tag v="iv"/> 
	       <lit-tag v="actv"/> 
  	       <lit-tag v="apocop"/>
	       <lit-tag v="p3"/>
               <clip pos="2" side="tl" part="gen" link-to="5"/>
               <clip pos="2" side="tl" part="nbr" link-to="6"/>
             </lu>
           </chunk>
	   <b/>
	   <chunk name="prep_prn"> 
 	     <tags>
 	       <tag><lit-tag v="SP"/></tag>
               <tag><clip pos="2" side="tl" part="pers"/></tag>
               <tag><clip pos="2" side="tl" part="gen"/></tag>
               <tag><clip pos="2" side="tl" part="nbr"/></tag>
 	     </tags>
  	     <mlu>
	       <lu>
                 <lit v="عند"/>
                 <lit-tag v="pr"/>
	       </lu>
	       <lu>
                 <lit v="ه"/>
                 <lit-tag v="prn"/>
                 <clip pos="2" side="tl" part="pers"/>
                 <clip pos="2" side="tl" part="gen" link-to="3"/>
                 <clip pos="2" side="tl" part="nbr" link-to="4"/>
               </lu>
  	     </mlu>
           </chunk>
	 </out>
       </action>
    </rule>


    <rule comment="rule 19: kellu pres neg">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="kellupres"/>
         <pattern-item n="xneg"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <out>
	   <chunk name="kien">  
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="actv"/></tag>  <!-- hm -->
 	       <tag><lit-tag v="pres"/></tag>
 	       <tag><lit-tag v="p3"/></tag>
 	       <tag><lit-tag v="GD"/></tag>
   	       <tag><lit-tag v="ND"/></tag>
 	     </tags>
             <lu>
  	       <lit v="ليس"/>
	       <lit-tag v="vaux"/>
	       <lit-tag v="iv"/> 
	       <lit-tag v="actv"/> 
  	       <lit-tag v="pres"/>
	       <lit-tag v="p3"/>
               <clip pos="2" side="tl" part="gen" link-to="5"/>
               <clip pos="2" side="tl" part="nbr" link-to="6"/>
             </lu>
           </chunk>
	   <b/>
	   <chunk name="prep_prn">  
 	     <tags>
 	       <tag><lit-tag v="SP"/></tag>
               <tag><clip pos="2" side="tl" part="pers"/></tag>
               <tag><clip pos="2" side="tl" part="gen"/></tag>
               <tag><clip pos="2" side="tl" part="nbr"/></tag>
 	     </tags>
  	     <mlu>
	       <lu>
                 <lit v="عند"/>
                 <lit-tag v="pr"/>
	       </lu>
	       <lu>
                 <lit v="ه"/>
                 <lit-tag v="prn"/>
                 <clip pos="2" side="tl" part="pers"/>
                 <clip pos="2" side="tl" part="gen" link-to="3"/>
                 <clip pos="2" side="tl" part="nbr" link-to="4"/>
               </lu>
  	     </mlu>
           </chunk>
	 </out>
       </action>
    </rule>


    <rule comment="rule 20: verb">
       <pattern>
         <pattern-item n="vrb"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>

	 <choose>
	   <when>
	     <test><and>
	       <equal><clip pos="1" side="tl" part="a_voice"/><lit-tag v="pasv"/></equal>
	       <equal><clip pos="1" side="tl" part="temps"/><lit-tag v="imp"/></equal>
	     </and></test>
             <let><clip pos="1" side="tl" part="temps"/><lit-tag v="apocop"/></let> 
	   </when> 
	 </choose>

         <out>
  	   <chunk name="verb">
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_voice"/></tag> <!-- not sure if I need it -->
 	       <tag><clip pos="1" side="tl" part="temps"/></tag>
 	       <tag><clip pos="1" side="tl" part="pers"/></tag>
 	       <tag><clip pos="1" side="tl" part="gen"/></tag>
   	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags>
 	     <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="a_trans"/>
               <clip pos="1" side="tl" part="a_voice"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="gen" link-to="5"/>
               <clip pos="1" side="tl" part="nbr" link-to="6"/>
               <clip pos="1" side="tl" part="lemq"/>
 	     </lu>
 	   </chunk>
         </out>
       </action>
     </rule>


    <rule comment="rule 21: participia">
       <pattern>
         <pattern-item n="particip"/>
       </pattern>
       <action>
	 <choose>
	   <when>
	     <test><and>
		<equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
		<equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal>
	     </and></test>  <!-- TODO: set GD -->
	     <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
	   </when>
	 </choose>
         <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>

	 <choose>
	   <when>
	     <test><and>
	       <equal><clip pos="1" side="tl" part="a_trans"/><lit-tag v="iv"/></equal>
	       <equal><clip pos="1" side="tl" part="a_particip"/><lit-tag v="pp"/></equal>
	     </and></test>
             <let><clip pos="1" side="tl" part="a_particip"/><lit-tag v="pprs"/></let> 
	   </when> 
	   <when>
	     <test><equal><clip pos="1" side="tl" part="a_voice"/><lit-tag v="pasv"/></equal></test>
             <let><clip pos="1" side="tl" part="a_voice"/><lit-tag v="actv"/></let> 
	   </when> 
	 </choose>

         <out>
	   <chunk name="part">
	     <tags>
	       <tag><lit-tag v="SA"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="a_trans"/>
               <clip pos="1" side="tl" part="a_voice"/>
               <clip pos="1" side="tl" part="a_particip"/>
               <clip pos="1" side="tl" part="gen"/> 
               <clip pos="1" side="tl" part="nbr"/>
               <lit-tag v="nom"/>  <!-- <clip pos="1" side="tl" part="case"/> -->
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule>


    <rule comment="rule 22: dir object (nom + adj etc.) in accusative ">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="nom"/>
<!--         <pattern-item n="nom_attr"/> -->
	 <pattern-item n="particip"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/>
	 </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>   <!-- hm -->
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
<!--             <clip pos="3" side="tl" part="a_nom_attr"/> -->
             <clip pos="3" side="tl" part="a_verb"/>
             <clip pos="3" side="tl" part="a_trans"/>
             <clip pos="3" side="tl" part="a_voice"/>
             <clip pos="3" side="tl" part="a_particip"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 23: dir object in accusative, constructions with with adverb between verb and direct object ">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="adv"/>
         <pattern-item n="nom"/>
         <pattern-item n="nom_attr"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="3"/>
           <with-param pos="4"/>
	 </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <lu>
             <clip pos="2" side="tl" part="whole"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lem"/>
             <clip pos="4" side="tl" part="a_nom_attr"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 24: dir object in accusative ">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="pron_ind"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro> 
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="mood"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
	 </chunk><b/></out>
         <call-macro n="f_concord1"><with-param pos="2"/></call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lem"/>
             <clip pos="2" side="tl" part="a_prn_ind"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
           </lu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 25: kien ('to be'): in Arabic noun/adj after كان, 'to be', is in accusative ">
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="mood"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 26: kien ('to be'): in Arabic noun/adj after كان, 'to be', is in accusative ">
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
	 <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="mood"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_adj"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   </mlu>
	   </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 27: kien ('to be'): in Arabic noun/adj after كان, 'to be', is in accusative ">
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="nom"/>
         <pattern-item n="cnjcoo"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="mood"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <lu>
             <clip pos="3" side="tl" part="whole"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 28: modal verbs ('want', 'like', 'can' etc.): in Arabic followed by أن + so-called subjunctive mood ">
       <pattern>
         <pattern-item n="modalvrb"/>
         <pattern-item n="vrbpres"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="a_mood"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
	   </lu>
	   <b/><lu><lit v="أن"/><lit-tag v="cnjsub"/></lu><b/>
	 </chunk><b/></out>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro> 
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 29: biex (in order that) in Arabic is followed subjunctive mood ">
       <pattern>
         <pattern-item n="biex"/>
         <pattern-item n="vrbpres"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro> 
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>   
	   </lu><b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 30: biex (in order that) in Arabic is followed subjunctive mood; direct object in accusative ">
       <pattern>
         <pattern-item n="biex"/>
         <pattern-item n="vrbpres"/>
         <pattern-item n="pron_ind"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro> 
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>   
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lem"/>
             <clip pos="3" side="tl" part="a_prn_ind"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 31: biex (in order that) in Arabic is followed subjunctive mood; direct object in accusative ">
       <pattern>
         <pattern-item n="biex"/>
         <pattern-item n="vrbpres"/>
         <pattern-item n="pron_ind"/>
         <pattern-item n="cnjcoo"/>
         <pattern-item n="vrbpres"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>   
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lem"/>
             <clip pos="3" side="tl" part="a_prn_ind"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
           </lu>
	   <b/>
	   <lu>
             <clip pos="4" side="tl" part="whole"/>   
	   </lu>
	 </chunk><b/></out>
         <call-macro n="modify_verb_and_genero"><with-param pos="5"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="5" side="tl" part="lemh"/>
             <clip pos="5" side="tl" part="a_verb"/>
             <clip pos="5" side="tl" part="a_trans"/>
             <clip pos="5" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="5" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="5" side="tl" part="nbr"/>
             <clip pos="5" side="tl" part="lemq"/>
           </lu>
	 </chunk></out>
       </action>
    </rule> 


<!-- add rules with context, like qagħad + pres -->
<!--    <rule comment="rule 27: qagħad ('to stay')"> 
       <pattern>
         <pattern-item n="qagħad"/>
       </pattern>
       <action>
       </action>
    </rule>
-->

    <rule comment="rule 32: dualis ">   <!-- 2 numeral + plural noun -> dualis -->
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="det"/>
         <pattern-item n="dualis_num"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>
	   </lu><b/>
	   <mlu>
	   <lu>
             <clip pos="2" side="tl" part="whole"/>
	   </lu>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <lit-tag v="du"/>
             <lit-tag v="gen"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	   </mlu>
	   </chunk></out>
       </action>
    </rule> 


    <!-- was prepgen -->
    <rule comment="rule 33: prep noun">   <!-- genitive after prepositions -->
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>
	   </lu><b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="2" side="tl" part="poss"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 34: direct object determined">  <!-- to get rid of lil when used as Hebrew את after verbs -->
       <pattern>
         <pattern-item n="d_obj"/>
         <pattern-item n="det"/>
       </pattern>
       <action>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="2" side="tl" part="whole"/>
	   </lu>
	 </chunk></out>
       </action>
    </rule> 

    <rule comment="rule 35: direct object">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="d_obj"/>
         <pattern-item n="np"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro> 
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="mood"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="3" side="tl" part="poss"/>
             <clip pos="3" side="tl" part="lemq"/>
	   </lu>
	 </chunk></out>
       </action>
    </rule>


    <rule comment="rule 36: negation"> <!-- constructions like "M'hi (qed tara)" -->
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="pron"/>
       </pattern>
       <action>
	  <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	  </chunk></out>
       </action>
    </rule>


<!--
    <rule comment="rule 33: kien negation"> 
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="xneg"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
	 <out>
	   <chunk name="kien">
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_voice"/></tag>
 	       <tag><clip pos="1" side="tl" part="temps"/></tag>
 	       <tag><clip pos="1" side="tl" part="pers"/></tag>
 	       <tag><clip pos="1" side="tl" part="gen"/></tag>
   	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="a_trans"/>
               <clip pos="1" side="tl" part="a_voice"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="gen" link-to="5"/>
               <clip pos="1" side="tl" part="nbr" link-to="6"/>
               <lit-tag v="neg"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
	   </chunk>
	 </out>
       </action>
    </rule>
-->

    <rule comment="rule 37: kien ('to be'): in Arabic noun/adj after كان, 'to be', is in accusative ">
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="xneg"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <lit-tag v="neg"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 38: kien ('to be'): in Arabic noun/adj after كان, 'to be', is in accusative ">
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="xneg"/>
         <pattern-item n="nom"/>
         <pattern-item n="cnjcoo"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <lit-tag v="neg"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <lu>
             <clip pos="4" side="tl" part="whole"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="5" side="tl" part="lemh"/>
             <clip pos="5" side="tl" part="a_nom"/>
             <clip pos="5" side="tl" part="gen"/>
             <clip pos="5" side="tl" part="a_anim"/>
             <clip pos="5" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="5" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


    <!-- add ma + vrb_past + u + neg, + lu + neg, + u + lu + neg -->
    <rule comment="rule 39: verb negation: ma + past -> لم + apocop ">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="vrbpast"/>
         <pattern-item n="xneg"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
	  <out>
	    <chunk name="vrb">  <!-- vaux? كان وأخواتها؟ -->
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_voice"/></tag>
 	       <tag><clip pos="1" side="tl" part="temps"/></tag>
 	       <tag><clip pos="1" side="tl" part="pers"/></tag>
 	       <tag><var n="genero"/></tag> <!-- fix -->
   	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags>
  	     <lu>
	       <lit v="لم"/><lit-tag v="adv"/>
	     </lu>
	     <b/>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="a_trans"/>
               <clip pos="2" side="tl" part="a_voice"/>
               <lit-tag v="apocop"/>
               <clip pos="2" side="tl" part="pers"/>
               <var n="genero"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	    </chunk>
	  </out>
       </action>
    </rule>


    <rule comment="rule 40: modal verbs ('want', 'like', 'can' etc.): in Arabic followed by أن + so-called subjunctive mood ">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="modalpast"/>
         <pattern-item n="xneg"/>
         <pattern-item n="vrbpres"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
	  <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
	     <lit v="لم"/><lit-tag v="adv"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <lit-tag v="apocop"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <lu>
	     <lit v="أن"/><lit-tag v="cnjsub"/>
	   </lu>
	   <b/>
	 </chunk><b/></out>
	 <call-macro n="modify_verb_and_genero"><with-param pos="4"/></call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_verb"/>
             <clip pos="4" side="tl" part="a_trans"/>
             <clip pos="4" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="4" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="4" side="tl" part="nbr"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 41: modal verbs ('want', 'like', 'can' etc.): in Arabic followed by أن + so-called subjunctive mood ">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="modalpres"/>
         <pattern-item n="xneg"/>
         <pattern-item n="vrbpres"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
	  <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
	     <lit v="لا"/><lit-tag v="adv"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <lit-tag v="pres"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <lu>
	     <lit v="أن"/><lit-tag v="cnjsub"/>
	   </lu>
	   <b/>
	 </chunk><b/></out>
	 <call-macro n="modify_verb_and_genero"><with-param pos="4"/></call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_verb"/>
             <clip pos="4" side="tl" part="a_trans"/>
             <clip pos="4" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="4" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="4" side="tl" part="nbr"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	 </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 42: modal verbs ('want', 'like', 'can' etc.): in Arabic followed by أن + so-called subjunctive mood ">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="modalpres"/>
         <pattern-item n="xneg"/>
         <pattern-item n="vrbpres"/>
         <pattern-item n="lu_prn"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <call-macro n="set_prn_suff_gen"><with-param pos="5"/></call-macro>
	  <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
	     <lit v="لا"/><lit-tag v="adv"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <lit-tag v="pres"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <lu>
	     <lit v="أن"/><lit-tag v="cnjsub"/>
	   </lu>
	   <b/>
  	 </chunk><b/></out>
	 <call-macro n="modify_verb_and_genero"><with-param pos="4"/></call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_verb"/>
             <clip pos="4" side="tl" part="a_trans"/>
             <clip pos="4" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="4" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="4" side="tl" part="nbr"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ل"/>
               <lit-tag v="pr"/>
	     </lu>
	     <lu>
               <lit v="ه"/>
               <clip pos="5" side="tl" part="a_prn"/>
               <clip pos="5" side="tl" part="pers"/>
               <clip pos="5" side="tl" part="gen"/>
               <clip pos="5" side="tl" part="nbr"/>
             </lu>
	   </mlu>	
	 </chunk></out>
       </action>
    </rule> 



    <!-- add ma + vrb_pres + u + neg, + lu + neg, + u + lu + neg -->
    <rule comment="rule 43: verb negation: ma + pres -> لا + pres ">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="vrbpres"/>
         <pattern-item n="xneg"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
	  <out>
	    <chunk name="vrb"> 
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="2" side="tl" part="a_voice"/></tag>
 	       <tag><lit-tag v="pres"/></tag>
 	       <tag><clip pos="2" side="tl" part="pers"/></tag>
 	       <tag><clip pos="2" side="tl" part="gen"/></tag>
 	      <!--  <tag><var n="genero"/></tag>  -->
   	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
 	     </tags>
  	     <lu>
	       <lit v="لا"/><lit-tag v="adv"/>
	     </lu>
	     <b/>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="a_trans"/>
               <clip pos="2" side="tl" part="a_voice"/>
               <lit-tag v="pres"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="gen" link-to="5"/>
<!--             <var n="genero"/>  -->
             <clip pos="2" side="tl" part="nbr" link-to="6"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	  </chunk></out>
       </action>
    </rule>



    <rule comment="rule 44: ma + pres, dir object in accusative ">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="vrbpres"/>
         <pattern-item n="xneg"/>
         <pattern-item n="pron_ind"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
	     <lit v="لا"/><lit-tag v="adv"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <clip pos="2" side="tl" part="temps"/>
             <clip pos="2" side="tl" part="mood"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lem"/>
             <clip pos="4" side="tl" part="a_prn_ind"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
           </lu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 45: direct object suffix ">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_prn_suff_gen"><with-param pos="2"/></call-macro>
	 <choose>
	   <when>
	     <test><and>
	       <equal><clip pos="1" side="tl" part="a_trans"/><lit-tag v="tv"/></equal>
	       <equal><clip pos="1" side="tl" part="a_voice"/><lit-tag v="actv"/></equal>
	     </and></test>
           <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="lemh"/>
                 <clip pos="1" side="tl" part="a_verb"/>
                 <clip pos="1" side="tl" part="a_trans"/>
                 <clip pos="1" side="tl" part="a_voice"/>
                 <clip pos="1" side="tl" part="temps"/>
                 <clip pos="1" side="tl" part="pers"/>
                 <var n="genero"/>
                 <clip pos="1" side="tl" part="nbr"/>
                 <clip pos="1" side="tl" part="lemq"/>
               </lu>
	       <lu>
                 <lit v="ه"/>
                 <clip pos="2" side="tl" part="a_prn"/>
                 <clip pos="2" side="tl" part="pers"/>
                 <clip pos="2" side="tl" part="gen"/>
                 <clip pos="2" side="tl" part="nbr"/>
               </lu>
	     </mlu>
	   </chunk></out>
	 </when>
	 <otherwise>
  	   <choose>
	     <when>
	       <test><and>
	         <equal><clip pos="1" side="tl" part="a_voice"/><lit-tag v="pasv"/></equal>
	         <equal><clip pos="1" side="tl" part="temps"/><lit-tag v="imp"/></equal>
	       </and></test>
               <let><clip pos="1" side="tl" part="temps"/><lit-tag v="apocop"/></let> 
	     </when> 
	   </choose>

           <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
  	     <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="a_trans"/>
               <clip pos="1" side="tl" part="a_voice"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <var n="genero"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
	     <b/>
	     <lu>
               <lit v="إيا"/>
               <clip pos="2" side="tl" part="a_prn"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
             </lu>
	   </chunk></out>
	 </otherwise>
	 </choose>
       </action>
    </rule> 


    <rule comment="rule 46: indirect object suffix ">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="lu_prn"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_prn_suff_gen"><with-param pos="2"/></call-macro>

	 <choose>
	   <when>
	     <test><and>
	       <equal><clip pos="1" side="tl" part="a_voice"/><lit-tag v="pasv"/></equal>
	       <equal><clip pos="1" side="tl" part="temps"/><lit-tag v="imp"/></equal>
	     </and></test>
             <let><clip pos="1" side="tl" part="temps"/><lit-tag v="apocop"/></let> 
	   </when> 
	 </choose>

	 <choose>
	   <when>
	     <test><and>   <!-- jirnexxielu etc.; btw - it also requires أن + apocop. --> 
		<in><clip pos="1" side="tl" part="lem"/><list n="indir_obj_to_subj_verbs"/></in>
		<equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p3"/></equal>
		<equal><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></equal>
		<equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
	     </and></test>
	     <let><clip pos="1" side="tl" part="pers"/><clip pos="2" side="tl" part="pers"/></let>
	     <let><clip pos="1" side="tl" part="gen"/><clip pos="2" side="tl" part="gen"/></let>
	     <let><clip pos="1" side="tl" part="nbr"/><clip pos="2" side="tl" part="nbr"/></let>
             <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
               <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="a_verb"/>
                <clip pos="1" side="tl" part="a_trans"/>
                <clip pos="1" side="tl" part="a_voice"/>
                <clip pos="1" side="tl" part="temps"/>
		<clip pos="2" side="tl" part="pers"/>
		<clip pos="2" side="tl" part="gen"/>
		<clip pos="2" side="tl" part="nbr"/>
<!--                <clip pos="1" side="tl" part="pers"/>
                <var n="genero"/>
                <clip pos="1" side="tl" part="nbr"/>  -->
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
  	    </chunk></out>
	  </when>
	  <otherwise> 
            <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="a_verb"/>
                <clip pos="1" side="tl" part="a_trans"/>
                <clip pos="1" side="tl" part="a_voice"/>
                <clip pos="1" side="tl" part="temps"/>
                <clip pos="1" side="tl" part="pers"/>
                <var n="genero"/>
                <clip pos="1" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
	      <b/>
	      <mlu>
   	        <lu>
                  <lit v="ل"/>
                <lit-tag v="pr"/>
	        </lu>
	        <lu>
                  <lit v="ه"/>
                  <clip pos="2" side="tl" part="a_prn"/>
                  <clip pos="2" side="tl" part="pers"/>
                  <clip pos="2" side="tl" part="gen"/>
                  <clip pos="2" side="tl" part="nbr"/>
                </lu>
	      </mlu>
	    </chunk></out>
	  </otherwise>
	</choose>
      </action>
    </rule> 


    <rule comment="rule 47: direct and indirect object suffixes ">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="u_prn"/>
         <pattern-item n="lu_prn"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_prn_suff_gen"><with-param pos="2"/></call-macro>
         <call-macro n="set_prn_suff_gen"><with-param pos="3"/></call-macro>
	 <choose>
	   <when>
	     <test><and>
	       <equal><clip pos="1" side="tl" part="a_trans"/><lit-tag v="tv"/></equal>
	       <equal><clip pos="1" side="tl" part="a_voice"/><lit-tag v="actv"/></equal>
	     </and></test>
             <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	       <mlu>
                 <lu>
                   <clip pos="1" side="tl" part="lemh"/>
                   <clip pos="1" side="tl" part="a_verb"/>
                   <clip pos="1" side="tl" part="a_trans"/> 
                   <clip pos="1" side="tl" part="a_voice"/>
                   <clip pos="1" side="tl" part="temps"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <var n="genero"/>
                   <clip pos="1" side="tl" part="nbr"/>
                   <clip pos="1" side="tl" part="lemq"/>
                 </lu>
	         <lu>
                   <lit v="ه"/>
                   <clip pos="2" side="tl" part="a_prn"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="gen"/>
                   <clip pos="2" side="tl" part="nbr"/>
                 </lu>
	       </mlu>
	       <b/>
	       <mlu>
	         <lu>
                   <lit v="ل"/>
                   <lit-tag v="pr"/>
	         </lu>
	         <lu>
                   <lit v="ه"/>
                   <clip pos="3" side="tl" part="a_prn"/>
                   <clip pos="3" side="tl" part="pers"/>
                   <clip pos="3" side="tl" part="gen"/>
                   <clip pos="3" side="tl" part="nbr"/>
                 </lu>
	       </mlu>
	     </chunk></out>
  	   </when>
  	   <otherwise>

  	   <choose>
	     <when>
	       <test><and>
	         <equal><clip pos="1" side="tl" part="a_voice"/><lit-tag v="pasv"/></equal>
	         <equal><clip pos="1" side="tl" part="temps"/><lit-tag v="imp"/></equal> 
	       </and></test>
               <let><clip pos="1" side="tl" part="temps"/><lit-tag v="apocop"/></let> 
	      </when> 
	   </choose>

           <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
  	     <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="a_trans"/>
               <clip pos="1" side="tl" part="a_voice"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <var n="genero"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
	     <b/>
	     <lu>
               <lit v="إيا"/>
               <clip pos="2" side="tl" part="a_prn"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
             </lu>
	     <b/>
	     <mlu>
	       <lu>
                 <lit v="ل"/>
                 <lit-tag v="pr"/>
	       </lu>
	       <lu>
                 <lit v="ه"/>
                 <clip pos="3" side="tl" part="a_prn"/>
                 <clip pos="3" side="tl" part="pers"/>
                 <clip pos="3" side="tl" part="gen"/>
                 <clip pos="3" side="tl" part="nbr"/>
               </lu>
	     </mlu>
	   </chunk></out>
	   </otherwise>
	 </choose>
       </action>
    </rule> 



    <rule comment="rule 48: preposition + pronominal suffix">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action> 
         <call-macro n="set_prn_suff_gen"><with-param pos="2"/></call-macro>
	 <!-- suffix gender & number should be modified! -->
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <mlu>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
	     <lu>
               <lit v="ه"/>
               <clip pos="2" side="tl" part="a_prn"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
             </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 


    <!-- temporal solution: should be ليس (verb) + prep + suff -->
    <rule comment="rule 49: neg + preposition + pronominal suffix">
       <pattern>
         <!-- <pattern-item n="ma_neg"/> -->
         <pattern-item n="prep"/>
         <pattern-item n="u_prn"/>
         <pattern-item n="xneg"/>
       </pattern>
       <action> 
	 <!-- suffix gender & number should be modified! -->
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <mlu>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
	     <lu>
               <lit v="ه"/>
               <clip pos="2" side="tl" part="a_prn"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
               <lit-tag v="neg"/>
             </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 50: artic np"> <!-- no article with proper nouns -->
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
             <lit-tag v="cstr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="5" side="tl" part="lemh"/>
             <clip pos="5" side="tl" part="a_nom"/>
             <clip pos="5" side="tl" part="gen"/>
             <clip pos="5" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="5" side="tl" part="lemq"/>
           </lu>
          </chunk></out>
	</action>
    </rule>


    <rule comment="rule 51: artic np"> <!-- no article with proper nouns -->
       <pattern>
	 <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="6" side="tl" part="lemh"/>
             <clip pos="6" side="tl" part="a_nom"/>
             <clip pos="6" side="tl" part="gen"/>
             <clip pos="6" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="6" side="tl" part="lemq"/>
           </lu>
          </chunk></out>
	</action>
    </rule>



<!-- story2 rules -->



    <rule comment="rule 52: għal membri ta' din konfederazzjoni"> 
       <pattern>
         <pattern-item n="prep"/>	 
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="detdem"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
	   <with-param pos="5"/>
           <with-param pos="4"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_det_dem"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="nbr"/>
<!-- TODO: add this
             <lit-tag v="gen"/>
-->
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_nom"/>
               <clip pos="5" side="tl" part="gen"/>
               <clip pos="5" side="tl" part="a_anim"/>
               <clip pos="5" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
	    </mlu>
          </chunk></out>
	</action>
    </rule>



<!-- in fact, there will be a rather complex set of rules for deleting الذي or setting gen, num and case   -->
    <rule comment="rule 53: deleting li">
       <pattern>
         <pattern-item n="rel"/>
       </pattern>
       <action>
         <out>
	   <chunk name="li">
	     <tags>
	       <tag><lit-tag v="rel"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
	     </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_rel"/>
               <clip pos="1" side="tl" part="gen" link-to="2"/>
               <clip pos="1" side="tl" part="nbr" link-to="3"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
          </chunk></out>
       </action>
    </rule>


    <rule comment="rule 54: li with def. noun"> 
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
         <pattern-item n="rel"/>
       </pattern>
       <action>
	 <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
	 <call-macro n="adjf_concord2"><with-param pos="2"/><with-param pos="3"/></call-macro>
         <out>
 	   <chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
             <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
               <lu>
                 <clip pos="2" side="tl" part="lemh"/>
                 <clip pos="2" side="tl" part="a_nom"/>
                 <clip pos="2" side="tl" part="gen"/>
                 <clip pos="2" side="tl" part="a_anim"/>
                 <clip pos="2" side="tl" part="nbr"/>
                 <clip pos="2" side="tl" part="case"/>
                 <lit-tag v="artic"/>
                 <clip pos="2" side="tl" part="lemq"/>
               </lu>
             </mlu>
	   </chunk>
 	   <b/>
	   <chunk name="art_n_rel">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="3" side="tl" part="whole"/>
             </lu>
	   </chunk>
         </out>
       </action>
    </rule>


    <rule comment="rule 55: li with indef">  <!-- TODO: not quite: poss. suffixes! --> 
       <pattern>
         <pattern-item n="nom"/>
         <pattern-item n="rel"/>
       </pattern>
       <action>
	 <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
	 <call-macro n="adjf_concord2"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_nom"/>
             <clip pos="1" side="tl" part="gen"/>
             <clip pos="1" side="tl" part="a_anim"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="case"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
  	 </chunk></out>
       </action>
    </rule>


    <!-- TODO: unless pasv -->
    <rule comment="rule 56: dir object in accusativ ">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 57: dir object in accusativ ">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="nom"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="3"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <lit-tag v="cstr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 58: prep + gen "> 
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="nom"/>
	 <pattern-item n="postdet"/>  
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/>
	 </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
<!--             <clip pos="3" side="tl" part="a_nom_attr"/> -->
            <clip pos="3" side="tl" part="a_det"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule>


    <rule comment="rule 59: prep + gen ">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 60: prep + gen ">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
	 <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="3"/>
           <with-param pos="4"/>
	 </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_adj"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 61: fil-kamp tal-mużika popolari">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
	 <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="6"/>
           <with-param pos="7"/>
	 </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="a_nom"/>
               <clip pos="6" side="tl" part="gen"/>
               <clip pos="6" side="tl" part="a_anim"/>
               <clip pos="6" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="6" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="7" side="tl" part="lemh"/>
               <clip pos="7" side="tl" part="a_adj"/>
               <clip pos="7" side="tl" part="gen"/>
               <clip pos="7" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <clip pos="7" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 62: dir object in accusative">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="d_obj"/>
         <pattern-item n="nom"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="3"/>
           <with-param pos="4"/>
	 </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lem"/>
             <clip pos="4" side="tl" part="a_adj"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 63: mt ġie + pp = ar pass voice">
       <pattern>
         <pattern-item n="gie"/>
         <pattern-item n="pp"/>
       </pattern>
       <action>
	 <choose>
	   <when>
	     <test><equal><clip pos="2" side="tl" part="a_trans"/><lit-tag v="tv"/></equal></test>
           <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
           <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="a_trans"/>
               <lit-tag v="pasv"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <var n="genero"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk></out>
	   </when>
	   <otherwise>
	   <!-- hey, or maybe we can always have كان + pp -->
           <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
           <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
             <lu>
	       <lit v="كان"/>
	       <lit-tag v="vaux"/>
	       <lit-tag v="iv"/>
	       <lit-tag v="actv"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <var n="genero"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
	     <b/>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="a_trans"/>
               <clip pos="2" side="tl" part="a_voice"/> 
               <clip pos="2" side="tl" part="a_particip"/>
               <var n="genero"/>
<!--               <clip pos="1" side="tl" part="gen"/>   -->
               <clip pos="1" side="tl" part="nbr"/>
	       <lit-tag v="acc"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk></out>
	   </otherwise>
	  </choose>
       </action>
    </rule> 


    <!-- should be one rule for nouns in sg, another for pl nouns -->
    <rule comment="rule 64: prep + gen ">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="adjcomp"/>
	 <pattern-item n="nom"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_adj"/>
             <clip pos="3" side="tl" part="comp"/>
<!--             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>  -->
             <lit-tag v="gen"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="4" side="tl" part="lemq"/>
	   </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 


    <!-- that's only form mt verb + prep -> ar verb + prep; what if mt verb + prep -> ar verb + d.o.? -->
    <rule comment="rule 65: mt verbs with 'minn' prep.">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="minn_pr"/>
	 <pattern-item n="detind"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro>
	 <choose>
	   <when>
	     <test>
	       <in><clip pos="1" side="tl" part="lem"/><list n="minn_bi_verbs"/></in>
	     </test>
	     <let><clip pos="2" side="tl" part="lem"/><lit v="ب"/></let> 
	   </when> 
	 </choose> 
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule> 



    <!-- that's only form mt verb + prep -> ar verb + prep; what if mt verb + prep -> ar verb + d.o.? -->
    <rule comment="rule 66: mt verbs with 'fi' prep.">
       <pattern>
         <pattern-item n="detdem"/>
         <pattern-item n="vrb"/>
         <pattern-item n="fi_pr"/>
         <pattern-item n="nom"/>
         <pattern-item n="adj"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="4"/>
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="4"/>
           <with-param pos="6"/>
         </call-macro>
	 <choose>
	   <when>
	     <test>
	       <in>
		 <clip pos="2" side="tl" part="lem"/><list n="fi_min_verbs"/>
	       </in>
	     </test>
	     <let><clip pos="3" side="tl" part="lem"/><lit v="من"/></let> 
	   </when> 
	 </choose> 
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
	     <lit v="prpers"/>
	     <lit-tag v="prn"/>
	     <lit-tag v="p3"/>
             <clip pos="1" side="tl" part="gen"/>
             <clip pos="1" side="tl" part="nbr"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <clip pos="2" side="tl" part="temps"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="5" side="tl" part="lem"/>
             <clip pos="5" side="tl" part="a_adj"/>
             <clip pos="5" side="tl" part="gen"/>
             <clip pos="5" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="6" side="tl" part="lem"/>
             <clip pos="6" side="tl" part="a_adj"/>
             <clip pos="6" side="tl" part="gen"/>
             <clip pos="6" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
           </lu>
         </chunk></out>
       </action>
    </rule> 

 
    <rule comment="rule 67: prep + pron and noun in gen">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="det"/>
         <pattern-item n="artic"/>
	 <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="4"/>
           <with-param pos="2"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_det"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="nbr"/>
<!--             <lit-tag v="gen"/>  -->
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="3" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_nom"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="a_anim"/>
               <clip pos="4" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <clip pos="4" side="tl" part="lemq"/>
	     </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 68: past or subj cnjsub - mt pres will be ar subjunctive mood">
       <pattern>
         <pattern-item n="past_subj_cnjsub"/>
         <pattern-item n="vrbpres"/>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="verbf_concord2">
           <with-param pos="2"/>
           <with-param pos="4"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>   
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="2" side="tl" part="pers"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="3" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_nom"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="a_anim"/>
               <clip pos="4" side="tl" part="nbr"/>
               <lit-tag v="nom"/>
               <clip pos="4" side="tl" part="lemq"/>
	     </lu>
           </mlu>
	 </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 69: past or subj cnjsub - mt past remains">
       <pattern>
         <pattern-item n="past_subj_cnjsub"/>
         <pattern-item n="vrbpast"/>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="verbf_concord2">
           <with-param pos="2"/>
           <with-param pos="4"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>   
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <clip pos="2" side="tl" part="temps"/>
             <clip pos="2" side="tl" part="pers"/>
             <clip pos="2" side="tl" part="gen"/> 
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="3" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_nom"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="a_anim"/>
               <clip pos="4" side="tl" part="nbr"/>
               <lit-tag v="nom"/>
               <clip pos="4" side="tl" part="lemq"/>
	     </lu>
           </mlu>
	 </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 70: most of sth">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="detqnt_comp"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="2" side="tl" part="whole"/>   
	   </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <clip pos="3" side="tl" part="lemq"/>
	     </lu>
           </mlu>
	 </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 71: relative sentence">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
         <pattern-item n="rel"/>
         <pattern-item n="vrb"/> <!-- p3 -->
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
	 <!-- is this always ok? -->
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/> 
         </call-macro>
         <choose> <!-- default gender set to m --> 
           <when> 
             <test>
               <equal><clip pos="4" side="tl" part="pers"/><lit-tag v="p3"/></equal>
             </test>
             <call-macro n="myf_concord2">
               <with-param pos="2"/>
               <with-param pos="4"/> 
             </call-macro>
           </when>
<!--	   <otherwise>
             <call-macro n="modify_verb_and_genero"><with-param pos="4"/></call-macro>  
	   </otherwise> -->
	 </choose>
         <out>
	   <chunk name="art_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
	       <lu>
	         <clip pos="2" side="tl" part="lemh"/>
                 <clip pos="2" side="tl" part="a_nom"/>
                 <clip pos="2" side="tl" part="gen"/>
                 <clip pos="2" side="tl" part="a_anim"/>
                 <clip pos="2" side="tl" part="nbr"/>
	         <clip pos="2" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="2" side="tl" part="lemq"/>
 	       </lu>
  	     </mlu>
	   </chunk>
	   <b/>
 	   <chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <lit v="الذي"/>
             <lit-tag v="rel"/>
             <lit-tag v="an"/>
             <clip pos="3" side="tl" part="gen"/>  <!-- was: 4 -->
             <clip pos="3" side="tl" part="nbr"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_verb"/>
             <clip pos="4" side="tl" part="a_trans"/>
             <clip pos="4" side="tl" part="a_voice"/>
             <clip pos="4" side="tl" part="temps"/>
             <clip pos="4" side="tl" part="pers"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="nbr"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	 </chunk></out>
       </action>
    </rule> 


<!-- in fact it's pointless to add more rules in t1x.. --> 
    <rule comment="rule 72: noun and verb agreement">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
         <pattern-item n="vrb"/>
         <pattern-item n="adv"/>
       </pattern>
       <action>
         <call-macro n="verbf_concord2">
           <with-param pos="3"/>
           <with-param pos="2"/> 
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_verb"/>
             <clip pos="3" side="tl" part="a_trans"/>
             <clip pos="3" side="tl" part="a_voice"/>
             <clip pos="3" side="tl" part="temps"/>
             <clip pos="3" side="tl" part="pers"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
               <lit-tag v="nom"/>
               <clip pos="2" side="tl" part="lemq"/>
	     </lu>
           </mlu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="whole"/>
           </lu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 73: prep + pron and noun in gen">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="detind"/>
	 <pattern-item n="nom"/>
         <pattern-item n="detind"/>
         <pattern-item n="prep"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="3"/>
           <with-param pos="4"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_det"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="5" side="tl" part="whole"/>
             </lu>
	     <lu>
               <lit v="ه"/>
               <clip pos="6" side="tl" part="a_prn"/>
               <clip pos="6" side="tl" part="pers"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="nbr"/>
             </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 74: prep + pron and noun in gen">
       <pattern>
	 <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
	 <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
	 <pattern-item n="ta_pr"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action>
         <call-macro n="prn_suff_to_px"><with-param pos="8"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="6" side="tl" part="lemh"/>
             <clip pos="6" side="tl" part="a_nom"/>
             <clip pos="6" side="tl" part="gen"/>
             <clip pos="6" side="tl" part="a_anim"/>
             <clip pos="6" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <var n="px"/> 
             <clip pos="6" side="tl" part="lemq"/>
           </lu>
	 </chunk></out>
       </action>
    </rule>



    <rule comment="rule 75: Il-format tal-festival"> 
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
             <lit-tag v="cstr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="4" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_nom"/>
               <clip pos="5" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="5" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
	   </mlu>
          </chunk></out>
	</action>
    </rule>


    <rule comment="rule 76: kien (pres?) + past">
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="vrbpast"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>  <!-- right? -->
             <clip pos="2" side="tl" part="a_mood"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
	   </lu>
	</chunk></out>
       </action>
     </rule>

<!-- maybe add this (but I want 'لكي القراء يستطيعون أن يفهموا' rather than 'لكي القراء يستطيعون يفهمون', of course it should be 'لكي يستطيع القراء أن يفهموا' )
    <rule comment="rule 72': kien + pres">
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="vrbpres"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/> 
             <clip pos="2" side="tl" part="a_mood"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
	   </lu>
	</chunk></out>
       </action>
     </rule>
-->

    <rule comment="rule 77: kien neg">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="kienpres"/>
         <pattern-item n="xneg"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <out>
	   <chunk name="kien">  
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="actv"/></tag> 
 	       <tag><lit-tag v="pres"/></tag>
 	       <tag><clip pos="2" side="tl" part="pers"/></tag>
 	       <tag><clip pos="2" side="tl" part="gen"/></tag>
   	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
 	     </tags>
             <lu>
  	       <lit v="ليس"/>
	       <lit-tag v="vaux"/>
	       <lit-tag v="iv"/> 
	       <lit-tag v="actv"/> 
  	       <lit-tag v="pres"/>
	       <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="gen" link-to="5"/>
               <clip pos="2" side="tl" part="nbr" link-to="6"/>
             </lu>
           </chunk>
	 </out>
       </action>
     </rule>



<!--    <rule comment="rule 74: present of كان not used">
       <pattern>
         <pattern-item n="kienpres"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
       </action>
    </rule>
-->


    <rule comment="rule 78: verb">
       <pattern>
         <pattern-item n="detdem"/>
         <pattern-item n="vrb"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
	     <lit v="prpers"/>
	     <lit-tag v="prn"/>
	     <lit-tag v="p3"/>
             <clip pos="1" side="tl" part="gen"/>
             <clip pos="1" side="tl" part="nbr"/>
	   </lu><b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <clip pos="2" side="tl" part="temps"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 79: prep + pron and noun in gen">
       <pattern>
	 <pattern-item n="two_num"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <lit-tag v="du"/>
             <lit-tag v="gen"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 80: relattivament adv">
      <pattern>
	<pattern-item n="mod_adv"/>
        <pattern-item n="adv"/>
      </pattern>
      <action>
	<out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
          <lu>
            <clip pos="2" side="tl" part="whole"/>
          </lu>  
	  <b/>
          <lu>
            <clip pos="1" side="tl" part="whole"/>
          </lu> 
	</chunk></out>
      </action>
    </rule>


<!-- story3 rules  -->


   <rule comment="rule 81: L-istorja ta' pajjiżna turina">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="non-np"/>
         <pattern-item n="vrb"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action>
         <call-macro n="set_px_gen"><with-param pos="4"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="modify_verb_and_genero"><with-param pos="5"/></call-macro>
         <call-macro n="set_prn_suff_gen"><with-param pos="6"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
             <lit-tag v="cstr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="4" side="tl" part="poss"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_verb"/>
               <clip pos="5" side="tl" part="a_trans"/>
               <clip pos="5" side="tl" part="a_voice"/>
               <clip pos="5" side="tl" part="temps"/>
               <clip pos="5" side="tl" part="pers"/>
<!--               <clip pos="5" side="tl" part="gen"/> -->
             <var n="genero"/> 
               <clip pos="5" side="tl" part="nbr"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
	     <lu>
               <lit v="ه"/>
               <clip pos="6" side="tl" part="a_prn"/>
               <clip pos="6" side="tl" part="pers"/>
               <clip pos="6" side="tl" part="gen"/>
               <clip pos="6" side="tl" part="nbr"/>
             </lu>
	   </mlu>
         </chunk></out>
       </action>
    </rule>


   <!-- just an idea what to do with ta'... - my favourite Middle Egyptian (that is, hieroglyphic) construction, btw; yeah, but agreement still needed -->
   <rule comment="rule 82: ta' oriġini Semitiċi">
       <pattern>
         <pattern-item n="ta_pr"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="3" side="tl" part="lem"/>
             <clip pos="3" side="tl" part="a_adj"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 83: għal sekli sħaħ">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lem"/>
             <clip pos="3" side="tl" part="a_adj"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 84: Dawn il-ħakmiet influwenzaw">  <!-- det -->
       <pattern>
         <pattern-item n="pron"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="vrb"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="3"/>
           <with-param pos="1"/>
         </call-macro>
	 <choose>
	   <when>
	     <test><equal><clip pos="4" side="tl" part="pers"/><lit-tag v="p3"/></equal></test>
             <call-macro n="myf_concord2">
               <with-param pos="3"/>
               <with-param pos="4"/>
             </call-macro>
	   </when>
	   <otherwise>
             <call-macro n="modify_verb_and_genero"><with-param pos="4"/></call-macro>
	   </otherwise>
	 </choose>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_prn"/>
             <clip pos="1" side="tl" part="gen"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="nom"/>
               <lit-tag v="artic"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_verb"/>
             <clip pos="4" side="tl" part="a_trans"/>
             <clip pos="4" side="tl" part="a_voice"/>
             <clip pos="4" side="tl" part="temps"/>
             <clip pos="4" side="tl" part="pers"/>
             <clip pos="4" side="tl" part="gen"/>
<!--             <var n="genero"/> -->
             <clip pos="4" side="tl" part="nbr"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 85: lill-poplu tagħna">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action>
         <call-macro n="prn_suff_to_px"><with-param pos="5"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <var n="px"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 86: bosta oqsma">
       <pattern>
         <pattern-item n="detqnt"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	   </mlu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 87: s-sisien ta' lsienna"> 
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="non-np"/>  <!-- *.px -->
       </pattern>
       <action>
	 <!-- is it possible to have both artic. and poss. suffix ?? -->
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="4"/></call-macro>
	 <out>
	   <chunk name="n_npx">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="case" link-to="5"/>
               <lit-tag v="cstr"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	     <b/>
             <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="4" side="tl" part="poss"/>
<!--             <lit-tag v="px1pl"/>   TODO: add macro or sth to set poss. suffixes properly!!! -->
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	 </chunk>
	 </out>
       </action>
    </rule>


   <rule comment="rule 88: bosta forom grammatikali"> 
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="detqnt"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="3"/>
           <with-param pos="4"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
            <clip pos="1" side="tl" part="pers"/>
<!--            <clip pos="1" side="tl" part="gen"/>  -->
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
	 </chunk><b/></out>
         <call-macro n="f_concord1"><with-param pos="2"/></call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lem"/>
             <clip pos="2" side="tl" part="a_det"/>
             <clip pos="2" side="tl" part="gen"/> 
             <clip pos="2" side="tl" part="nbr"/>
<!--
             <clip pos="2" side="tl" part="whole"/>  --> <!-- acc. cstr -->
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_adj"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
	   </mlu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 89: bħal forom verbali, aġġettivali u nominali"> 
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>
         <pattern-item n="cm"/> <!-- comma only -->
         <pattern-item n="adj"/>
         <pattern-item n="cnjcoo"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="7"/>
         </call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_adj"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
           <lu>
             <clip pos="4" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="5" side="tl" part="lemh"/>
             <clip pos="5" side="tl" part="a_adj"/>
             <clip pos="5" side="tl" part="gen"/>
             <clip pos="5" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="5" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="6" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="7" side="tl" part="lemh"/>
             <clip pos="7" side="tl" part="a_adj"/>
             <clip pos="7" side="tl" part="gen"/>
             <clip pos="7" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="7" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 90: L-ewwel perijodu storiku assoċjat"> 
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="numord"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <let><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></let>
	 <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></let>
	 <let><clip pos="3" side="tl" part="nbr"/><lit-tag v="pl"/></let>
         <call-macro n="myf_concord2">
           <with-param pos="3"/>
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="4"/>
           <with-param pos="5"/>
         </call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
 	   <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_num"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_adj"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_adj"/>
               <clip pos="5" side="tl" part="gen"/>
               <clip pos="5" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
	   </mlu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 91: l-perijodu ta' żmien il-Feniċi"> 
       <pattern>
	 <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="prep"/>
         <pattern-item n="non-np"/>  <!-- cstr state, in fact -->
	 <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
             <lit-tag v="cstr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="5" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="a_nom"/>
               <clip pos="6" side="tl" part="gen"/>
               <clip pos="6" side="tl" part="a_anim"/>
               <clip pos="6" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="6" side="tl" part="lemq"/>
             </lu>
	   </mlu> 
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 92: superlative, l-akbar effett">  
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="adjcomp"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
	 <choose>
	 <when>
	   <test><equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="sg"/></equal></test>
	   <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_adj"/>
               <clip pos="2" side="tl" part="comp"/>
<!--             <clip pos="3" side="tl" part="gen"/>  --> <!-- some adj have different gen & nbr comp forms! -->
<!--             <clip pos="3" side="tl" part="nbr"/>  -->
	       <lit-tag v="nom"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	     <b/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
<!--             <clip pos="3" side="tl" part="nbr"/> -->
               <lit-tag v="sg"/>
               <lit-tag v="gen"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk></out>
	   </when>
	   <otherwise>
	   <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
               <lu>
                 <clip pos="3" side="tl" part="lemh"/>
                 <clip pos="3" side="tl" part="a_nom"/>
                 <clip pos="3" side="tl" part="gen"/>
                 <clip pos="3" side="tl" part="a_anim"/>
                 <clip pos="3" side="tl" part="nbr"/>
                 <lit-tag v="nom"/>
                 <lit-tag v="artic"/>
                 <clip pos="3" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	     <b/>
	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
               <lu>
                 <clip pos="2" side="tl" part="lemh"/>
                 <clip pos="2" side="tl" part="a_adj"/>
                 <clip pos="2" side="tl" part="comp"/>
<!--             <clip pos="3" side="tl" part="gen"/>  --> <!-- some adj have different gen & nbr comp forms! -->
<!--             <clip pos="3" side="tl" part="nbr"/>  -->
	         <lit-tag v="nom"/>
                 <clip pos="2" side="tl" part="lemq"/>
               </lu>
	     </mlu>
           </chunk></out>
	 </otherwise>
	 </choose>
       </action>
    </rule>


    <rule comment="rule 93: kien + acc, kienu razza ta' nies Semitika">
<!-- hey, sth with the rule is wrong, I get كانوا عنصر ناس ساميين, but it's better then كانوا عنصر ناس ساميا. Plus standard article problems, btw -->
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
       <choose>
	 <when> <!-- adj descr. first noun (or  second, but it doesn't matter, same gen & nbr) -->
	   <test><and>
	     <equal><clip pos="2" side="tl" part="gen"/><clip pos="4" side="tl" part="gen"/></equal>
	     <equal><clip pos="2" side="tl" part="nbr"/><clip pos="4" side="tl" part="nbr"/></equal>
	   </and></test>
           <call-macro n="myf_concord2">
             <with-param pos="2"/>
             <with-param pos="5"/>
           </call-macro>
	 </when>
	 <otherwise> <!-- second  noun -->
           <call-macro n="myf_concord2">
             <with-param pos="4"/>
             <with-param pos="5"/>
           </call-macro>
	 </otherwise>
       </choose>
       <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
       <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
         <lu>
           <clip pos="1" side="tl" part="lemh"/>
           <clip pos="1" side="tl" part="a_verb"/>
           <clip pos="1" side="tl" part="a_trans"/>
           <clip pos="1" side="tl" part="a_voice"/>
           <clip pos="1" side="tl" part="temps"/>
           <clip pos="1" side="tl" part="mood"/>
           <clip pos="1" side="tl" part="pers"/>
           <var n="genero"/>
           <clip pos="1" side="tl" part="nbr"/>
           <clip pos="1" side="tl" part="lemq"/>
         </lu>
         <b/>
         <lu>
           <clip pos="2" side="tl" part="lemh"/>
           <clip pos="2" side="tl" part="a_nom"/>
           <clip pos="2" side="tl" part="gen"/>
           <clip pos="2" side="tl" part="a_anim"/>
           <clip pos="2" side="tl" part="nbr"/>
           <lit-tag v="acc"/>
           <lit-tag v="cstr"/>
           <clip pos="2" side="tl" part="lemq"/>
         </lu>
	 <b/>
         <mlu>
 	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
          <lu>
           <clip pos="4" side="tl" part="lemh"/>
           <clip pos="4" side="tl" part="a_nom"/>
           <clip pos="4" side="tl" part="gen"/>
           <clip pos="4" side="tl" part="a_anim"/>
           <clip pos="4" side="tl" part="nbr"/>
           <lit-tag v="gen"/>
           <lit-tag v="artic"/>
           <clip pos="4" side="tl" part="lemq"/>
          </lu>
	 </mlu>
	 <b/>
         <mlu>
 	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
	  <lu>
           <clip pos="5" side="tl" part="lemh"/>
           <clip pos="5" side="tl" part="a_adj"/>
           <clip pos="5" side="tl" part="gen"/> 
           <clip pos="5" side="tl" part="nbr"/> 
           <lit-tag v="acc"/>   <!-- FIX: gen, if noun 2 -->
           <lit-tag v="artic"/>
           <clip pos="5" side="tl" part="lemq"/>
          </lu>
	</mlu>
        </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 94 (story1): qed">
       <pattern>
         <pattern-item n="qed"/>
         <pattern-item n="vrb"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <clip pos="2" side="tl" part="temps"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 95:  (52 + adj, dir object in acc), taw għamla definita">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="nom"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	 <b/>
	 <lu>
           <clip pos="3" side="tl" part="lemh"/>
           <clip pos="3" side="tl" part="a_adj"/>
           <clip pos="3" side="tl" part="gen"/> 
           <clip pos="3" side="tl" part="nbr"/> 
           <lit-tag v="acc"/>
           <clip pos="3" side="tl" part="lemq"/>
         </lu>
	   </chunk></out>
       </action>
    </rule> 

 
    <rule comment="rule 96: superlative, l-eqdem saff lingwistiku"> 
      <pattern>
        <pattern-item n="artic"/>
        <pattern-item n="adjcomp"/>
        <pattern-item n="non-np"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
      <call-macro n="myf_concord2">
        <with-param pos="3"/>
        <with-param pos="4"/>
      </call-macro>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_adj"/>
          <clip pos="2" side="tl" part="comp"/>
<!--             <clip pos="3" side="tl" part="gen"/>  --> <!-- some adj have different gen & nbr comp forms! -->
<!--             <clip pos="3" side="tl" part="nbr"/>  -->
	  <lit-tag v="nom"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
        <b/>
        <lu>
          <clip pos="3" side="tl" part="lemh"/>
          <clip pos="3" side="tl" part="a_nom"/>
          <clip pos="3" side="tl" part="gen"/>
          <clip pos="3" side="tl" part="a_anim"/>
          <clip pos="3" side="tl" part="nbr"/>
          <lit-tag v="gen"/>
          <clip pos="3" side="tl" part="lemq"/>
        </lu>
        <b/>
        <lu>
          <clip pos="4" side="tl" part="lemh"/>
          <clip pos="4" side="tl" part="a_adj"/>
          <clip pos="4" side="tl" part="gen"/> 
          <clip pos="4" side="tl" part="nbr"/> 
          <lit-tag v="gen"/>
          <clip pos="4" side="tl" part="lemq"/>
        </lu>
      </chunk></out>
    </action>
  </rule>



    <rule comment="rule 97: minn dik Ortodossa"> 
      <pattern>
        <pattern-item n="prep"/>
        <pattern-item n="detdem"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
      <call-macro n="myf_concord2">
        <with-param pos="2"/>
        <with-param pos="3"/>
      </call-macro>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <clip pos="1" side="tl" part="whole"/>
        </lu>
	<b/>
        <lu>
          <clip pos="2" side="tl" part="whole"/>
        </lu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
    	  <lu>
            <clip pos="3" side="tl" part="lemh"/>
            <clip pos="3" side="tl" part="a_adj"/>
            <clip pos="3" side="tl" part="gen"/> 
            <clip pos="3" side="tl" part="nbr"/> 
            <lit-tag v="gen"/>
            <lit-tag v="artic"/>
            <clip pos="3" side="tl" part="lemq"/>
          </lu>
        </mlu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 98: xi kliem"> 
      <pattern>
        <pattern-item n="xi"/>
        <pattern-item n="nompl"/>
      </pattern>
      <action>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <lit v="بعض"/>
          <lit-tag v="det"/>
          <lit-tag v="qnt"/>
          <lit-tag v="mf"/>
          <lit-tag v="sp"/>
        </lu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
          <lu>
            <clip pos="2" side="tl" part="lemh"/>
            <clip pos="2" side="tl" part="a_nom"/>
            <clip pos="2" side="tl" part="gen"/>
            <clip pos="2" side="tl" part="a_anim"/>
            <clip pos="2" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="artic"/>
            <clip pos="2" side="tl" part="lemq"/>
          </lu>
        </mlu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 99: xi nomi Semitiċi"> 
      <pattern>
        <pattern-item n="xi"/>
        <pattern-item n="nompl"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
      <call-macro n="myf_concord2">
        <with-param pos="2"/>
        <with-param pos="3"/>
      </call-macro>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <lit v="بعض"/>
          <lit-tag v="det"/>
          <lit-tag v="qnt"/>
          <lit-tag v="mf"/>
          <lit-tag v="sp"/>
        </lu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
          <lu>
            <clip pos="2" side="tl" part="lemh"/>
            <clip pos="2" side="tl" part="a_nom"/>
            <clip pos="2" side="tl" part="gen"/>
            <clip pos="2" side="tl" part="a_anim"/>
            <clip pos="2" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="artic"/>
            <clip pos="2" side="tl" part="lemq"/>
          </lu>
        </mlu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
    	  <lu>
            <clip pos="3" side="tl" part="lemh"/>
            <clip pos="3" side="tl" part="a_adj"/>
            <clip pos="3" side="tl" part="gen"/> 
            <clip pos="3" side="tl" part="nbr"/> 
            <lit-tag v="gen"/>
            <lit-tag v="artic"/>
            <clip pos="3" side="tl" part="lemq"/>
          </lu>
        </mlu>
      </chunk></out>
    </action>
  </rule>

    <rule comment="rule 100: xi forma"> 
      <pattern>
        <pattern-item n="xi"/>
        <pattern-item n="nomsg"/>
      </pattern>
      <action>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
          <clip pos="2" side="tl" part="nbr"/>
          <lit-tag v="gen"/>
          <lit-tag v="cstr"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
<!--	<b/>
        <lu>
          <lit v="واحد"/>
          <lit-tag v="num"/>
          <clip pos="2" side="tl" part="gen"/>
          <lit-tag v="sg"/>
	</lu>  -->
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 101:  (91 + pp, dir object in acc), insibu kliem primittiv marbut">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="nom"/>
         <pattern-item n="adj"/>
         <pattern-item n="particip"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="4"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	 <b/>
	 <lu>
           <clip pos="3" side="tl" part="lemh"/>
           <clip pos="3" side="tl" part="a_adj"/>
           <clip pos="3" side="tl" part="gen"/> 
           <clip pos="3" side="tl" part="nbr"/> 
           <lit-tag v="acc"/>
           <clip pos="3" side="tl" part="lemq"/>
         </lu>
	 <b/>
         <lu>
           <clip pos="4" side="tl" part="lemh"/>
<!--             <clip pos="3" side="tl" part="a_nom_attr"/> -->
           <clip pos="4" side="tl" part="a_verb"/>
           <clip pos="4" side="tl" part="a_trans"/>
           <clip pos="4" side="tl" part="a_voice"/> 
           <clip pos="4" side="tl" part="a_particip"/>
           <clip pos="4" side="tl" part="gen"/>
           <clip pos="4" side="tl" part="nbr"/>
	   <lit-tag v="acc"/>
           <clip pos="4" side="tl" part="lemq"/>
         </lu>
       </chunk></out>
      </action>
    </rule> 


   <rule comment="rule 102: l-aktar"> <!-- prn?? -->
     <pattern>
       <pattern-item n="artic"/>
       <pattern-item n="detqnt_comp"/>
     </pattern>
     <action>
       <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	<mlu>
          <lu>
            <clip pos="1" side="tl" part="whole"/>
          </lu>
	  <lu>
            <clip pos="2" side="tl" part="lem"/>
            <clip pos="2" side="tl" part="a_det"/>
            <clip pos="2" side="tl" part="gen"/> 
            <clip pos="2" side="tl" part="nbr"/>
<!--
             <clip pos="2" side="tl" part="whole"/>  --> <!-- acc. cstr -->
          </lu>
	</mlu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 103:  xi ismijiet ta' postijiet u lokalitajiet"> 
      <pattern>
        <pattern-item n="xi"/>
        <pattern-item n="nompl"/>
        <pattern-item n="ta_pr"/>
        <pattern-item n="non-np"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="non-np"/>
      </pattern>
      <action>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <lit v="بعض"/>
          <lit-tag v="det"/>
          <lit-tag v="qnt"/>
          <lit-tag v="mf"/>
          <lit-tag v="sp"/>
        </lu>
	<b/>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
          <clip pos="2" side="tl" part="nbr"/>
          <lit-tag v="gen"/>
          <lit-tag v="cstr"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
          <lu>
            <clip pos="4" side="tl" part="lemh"/>
            <clip pos="4" side="tl" part="a_nom"/>
            <clip pos="4" side="tl" part="gen"/>
            <clip pos="4" side="tl" part="a_anim"/>
            <clip pos="4" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="artic"/>
            <clip pos="4" side="tl" part="lemq"/>
	  </lu>
        </mlu>
	<b/>
        <lu>
          <clip pos="5" side="tl" part="whole"/>
        </lu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
          <lu>
            <clip pos="6" side="tl" part="lemh"/>
            <clip pos="6" side="tl" part="a_nom"/>
            <clip pos="6" side="tl" part="gen"/>
            <clip pos="6" side="tl" part="a_anim"/>
            <clip pos="4" side="tl" part="nbr"/> <!-- sic, rettili :) -->
            <lit-tag v="gen"/>
            <lit-tag v="artic"/>
            <clip pos="6" side="tl" part="lemq"/>
	  </lu>
        </mlu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 104:  Xi ismijiet ta' rħula u bliet Maltin"> 
      <pattern>
        <pattern-item n="xi"/>
        <pattern-item n="nompl"/>
        <pattern-item n="ta_pr"/>
        <pattern-item n="non-np"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="non-np"/>
        <pattern-item n="adj"/>
      </pattern>
      <action> <!-- in fact, pl if 4 or 6 aa, f sg otherwise -->
       <call-macro n="myf_concord2">
         <with-param pos="6"/>
         <with-param pos="7"/>
       </call-macro>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <lit v="بعض"/>
          <lit-tag v="det"/>
          <lit-tag v="qnt"/>
          <lit-tag v="mf"/>
          <lit-tag v="sp"/>
        </lu>
	<b/>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
          <clip pos="2" side="tl" part="nbr"/>
          <lit-tag v="gen"/>
          <lit-tag v="cstr"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
          <lu>
            <clip pos="4" side="tl" part="lemh"/>
            <clip pos="4" side="tl" part="a_nom"/>
            <clip pos="4" side="tl" part="gen"/>
            <clip pos="4" side="tl" part="a_anim"/>
            <clip pos="4" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="artic"/>
            <clip pos="4" side="tl" part="lemq"/>
	  </lu>
        </mlu>
	<b/>
        <lu>
          <clip pos="5" side="tl" part="whole"/>
        </lu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
          <lu>
            <clip pos="6" side="tl" part="lemh"/>
            <clip pos="6" side="tl" part="a_nom"/>
            <clip pos="6" side="tl" part="gen"/>
            <clip pos="6" side="tl" part="a_anim"/>
            <clip pos="6" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="artic"/>
            <clip pos="6" side="tl" part="lemq"/>
	  </lu>
        </mlu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
  	  <lu>
            <clip pos="7" side="tl" part="lemh"/>
            <clip pos="7" side="tl" part="a_adj"/>
            <clip pos="7" side="tl" part="gen"/> 
            <clip pos="7" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="artic"/> 
            <clip pos="7" side="tl" part="lemq"/>
          </lu>
	</mlu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 105:  f'bosta oqsma fosthom"> 
      <pattern>
        <pattern-item n="detqnt"/>
        <pattern-item n="non-np"/>
        <pattern-item n="prep"/>
        <pattern-item n="u_prn"/> <!-- if p3 etc? -->
      </pattern>
      <action>
       <call-macro n="f_concord1"><with-param pos="1"/></call-macro>
       <call-macro n="myf_concord2">
         <with-param pos="2"/>
         <with-param pos="4"/>
       </call-macro>
       <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
         <lu>
           <clip pos="1" side="tl" part="whole"/>
         </lu>
         <b/>
	 <mlu>
	   <lu>
             <lit v="ال"/>
             <lit-tag v="det"/>
             <lit-tag v="def"/>
	   </lu>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="artic"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	 </mlu>
 	 <b/>
	 <mlu>
           <lu>
             <clip pos="3" side="tl" part="whole"/>
           </lu>
           <lu>
             <lit v="ه"/>
             <clip pos="4" side="tl" part="a_prn"/>
             <clip pos="4" side="tl" part="pers"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="nbr"/>
           </lu>
 	 </mlu>
       </chunk></out>
     </action>
   </rule>


   <rule comment="rule 106: (82', st. cstr, not artic - and with rel), Bosta ismijiet ta' annimali u ħut li">
       <pattern>
         <pattern-item n="detqnt"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="non-np"/>
         <pattern-item n="cnjcoo"/>
         <pattern-item n="non-np"/>
         <pattern-item n="rel"/>
         <pattern-item n="vrb"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="1"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="6"/>
           <with-param pos="7"/>
         </call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="6"/>
           <with-param pos="8"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_nom"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="a_anim"/>
               <clip pos="4" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
           <lu>
             <clip pos="5" side="tl" part="whole"/>
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="a_nom"/>
               <clip pos="6" side="tl" part="gen"/>
               <clip pos="6" side="tl" part="a_anim"/>
               <clip pos="6" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="6" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
           <lu>
             <clip pos="7" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="8" side="tl" part="whole"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 107: (42' verb direct object suffix, with cnjsub: add prn) li niddeskrivuhom ">  <!-- FIX: only for إن، أن, لكن، كأن، ليت، لعل -->
       <pattern>
         <pattern-item n="cnjsub"/>
         <pattern-item n="vrb"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <call-macro n="set_prn_suff_gen"><with-param pos="3"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>      
	     <clip pos="1" side="tl" part="whole"/>
	   </lu>
<!-- TODO: but 'x'aktarx li niddeskrivuhom b'lessiku Semitiku' - إننا -->
<!--	   <b/>
           <lu>
             <lit v="prpers"/>
             <lit-tag v="prn"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
	   </lu> -->
	   <b/>
	   <mlu>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="a_trans"/>
               <clip pos="2" side="tl" part="a_voice"/>
               <clip pos="2" side="tl" part="temps"/>
               <clip pos="2" side="tl" part="pers"/>
               <var n="genero"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	     <lu>
               <lit v="ه"/>
               <clip pos="3" side="tl" part="a_prn"/>
               <clip pos="3" side="tl" part="pers"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="nbr"/>
             </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 


   <rule comment="rule 108: fost, fosthom kliem"> <!-- in fact should be based on prev. noun -->
       <pattern>
         <pattern-item n="fost_pr"/>
         <pattern-item n="u_prn"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <call-macro n="set_px_gen"><with-param pos="3"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="3"/>
           <with-param pos="2"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	 <mlu>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
           <lu>
             <lit v="ه"/>
             <clip pos="2" side="tl" part="a_prn"/>
             <clip pos="2" side="tl" part="pers"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="nbr"/>
           </lu>
 	 </mlu>
	 <b/>
         <lu>
           <clip pos="3" side="tl" part="lemh"/>
           <clip pos="3" side="tl" part="a_nom"/>
           <clip pos="3" side="tl" part="gen"/>
           <clip pos="3" side="tl" part="a_anim"/>
           <clip pos="3" side="tl" part="nbr"/>
           <lit-tag v="nom"/>
           <clip pos="3" side="tl" part="poss"/>
           <clip pos="3" side="tl" part="lemq"/>
         </lu>
       </chunk></out>
     </action>
    </rule>


   <rule comment="rule 109: l-ismijiet tal-frott l-aktar bażiċi "> <!-- prn?? -->
     <pattern>
       <pattern-item n="artic"/>
       <pattern-item n="non-np"/>
       <pattern-item n="ta_pr"/>
       <pattern-item n="artic"/>
       <pattern-item n="non-np"/>
       <pattern-item n="artic"/>
       <pattern-item n="detqnt_comp"/>
       <pattern-item n="adj"/>
     </pattern>
     <action>
       <call-macro n="myf_concord2">
         <with-param pos="5"/>
         <with-param pos="8"/>
       </call-macro>
       <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
          <clip pos="2" side="tl" part="nbr"/>
          <lit-tag v="nom"/>
          <lit-tag v="cstr"/>
          <clip pos="2" side="tl" part="poss"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
	<b/>
	<mlu>
          <lu>
            <clip pos="4" side="tl" part="whole"/>
          </lu>
          <lu>
            <clip pos="5" side="tl" part="lemh"/>
            <clip pos="5" side="tl" part="a_nom"/>
            <clip pos="5" side="tl" part="gen"/>
            <clip pos="5" side="tl" part="a_anim"/>
            <clip pos="5" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <clip pos="5" side="tl" part="poss"/>
            <clip pos="5" side="tl" part="lemq"/>
          </lu>
	</mlu>
	<b/>
	<mlu>
          <lu>
            <clip pos="6" side="tl" part="whole"/>
          </lu>
	  <lu>
            <clip pos="7" side="tl" part="lem"/>
            <clip pos="7" side="tl" part="a_det"/>
            <clip pos="7" side="tl" part="gen"/> 
            <clip pos="7" side="tl" part="nbr"/>
          </lu>
	</mlu>
	<b/>
  	<lu>
          <clip pos="8" side="tl" part="lemh"/>
          <clip pos="8" side="tl" part="a_adj"/>
          <clip pos="8" side="tl" part="gen"/> 
          <clip pos="8" side="tl" part="nbr"/>
          <lit-tag v="gen"/>
          <clip pos="8" side="tl" part="lemq"/>
        </lu>
      </chunk></out>
    </action>
  </rule>


   <rule comment="rule 110: ismijiet li jibdew">
     <pattern>
       <pattern-item n="non-np"/>
       <pattern-item n="rel"/>
       <pattern-item n="vrb"/>
     </pattern>
     <action>
       <call-macro n="myf_concord2">
         <with-param pos="1"/>
         <with-param pos="2"/>
       </call-macro>
       <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
         <lu>
           <clip pos="1" side="tl" part="lemh"/>
           <clip pos="1" side="tl" part="a_nom"/>
           <clip pos="1" side="tl" part="gen"/>
           <clip pos="1" side="tl" part="a_anim"/>
           <clip pos="1" side="tl" part="nbr"/>
           <lit-tag v="nom"/>
           <clip pos="1" side="tl" part="lemq"/>
         </lu>
         <b/>
         <lu>
           <clip pos="3" side="tl" part="lemh"/>
           <clip pos="3" side="tl" part="a_verb"/>
           <clip pos="3" side="tl" part="a_trans"/>
           <clip pos="3" side="tl" part="a_voice"/>
           <clip pos="3" side="tl" part="temps"/>
           <clip pos="3" side="tl" part="pers"/>
           <clip pos="2" side="tl" part="gen"/>  <!-- sic! no gen tag for p3 pl and p1 :( -->
           <clip pos="2" side="tl" part="nbr"/>
           <clip pos="3" side="tl" part="lemq"/>
         </lu>
       </chunk></out>
     </action>
    </rule>


   <rule comment="rule 111: L-influwenza tal-l-Morfoloġija Semitika hija"> 
     <pattern>
       <pattern-item n="artic"/>
       <pattern-item n="non-np"/>
       <pattern-item n="ta_pr"/>
       <pattern-item n="artic"/>
       <pattern-item n="non-np"/>
       <pattern-item n="adj"/>
       <pattern-item n="freepron"/>  <!-- p3, ok, it's a bit of cheating :) -->
       <pattern-item n="adj"/>
     </pattern>
     <action>
       <call-macro n="myf_concord2">
         <with-param pos="5"/>
         <with-param pos="6"/>
       </call-macro>
       <call-macro n="myf_concord2">
         <with-param pos="2"/>
         <with-param pos="7"/>
       </call-macro>
       <call-macro n="myf_concord2">
         <with-param pos="2"/>
         <with-param pos="8"/>
       </call-macro>
       <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
         <lu>
           <clip pos="2" side="tl" part="lemh"/>
           <clip pos="2" side="tl" part="a_nom"/>
           <clip pos="2" side="tl" part="gen"/>
           <clip pos="2" side="tl" part="a_anim"/>
           <clip pos="2" side="tl" part="nbr"/>
           <lit-tag v="nom"/>
           <lit-tag v="cstr"/>
           <clip pos="2" side="tl" part="lemq"/>
         </lu>
	<b/>
	<mlu>
          <lu>
            <clip pos="4" side="tl" part="whole"/>
          </lu>
          <lu>
            <clip pos="5" side="tl" part="lemh"/>
            <clip pos="5" side="tl" part="a_nom"/>
            <clip pos="5" side="tl" part="gen"/>
            <clip pos="5" side="tl" part="a_anim"/>
            <clip pos="5" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="cstr"/>
            <clip pos="5" side="tl" part="poss"/>
            <clip pos="5" side="tl" part="lemq"/>
          </lu>
	</mlu>
	<b/>
	<mlu>
          <lu>
            <clip pos="4" side="tl" part="whole"/>
          </lu>
	  <lu>
            <clip pos="6" side="tl" part="lemh"/>
            <clip pos="6" side="tl" part="a_adj"/>
            <clip pos="6" side="tl" part="gen"/> 
            <clip pos="6" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="cstr"/>
            <clip pos="6" side="tl" part="lemq"/>
          </lu>
	</mlu>
	<b/>
        <lu>
          <clip pos="7" side="tl" part="whole"/>
        </lu>
	<b/>
        <lu>
          <clip pos="8" side="tl" part="lemh"/>
          <clip pos="8" side="tl" part="a_adj"/>
          <clip pos="8" side="tl" part="gen"/> 
          <clip pos="8" side="tl" part="nbr"/>
          <lit-tag v="nom"/>
          <clip pos="8" side="tl" part="lemq"/>
        </lu>
       </chunk></out>
     </action>
    </rule>


    <rule comment="rule 112: xi forma jew oħra"> 
      <pattern>
        <pattern-item n="xi"/>
        <pattern-item n="nomsg"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="detind"/> <!-- prn -->
      </pattern>
      <action>
      <call-macro n="myf_concord2">
        <with-param pos="2"/>
        <with-param pos="4"/>
      </call-macro>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
          <clip pos="2" side="tl" part="nbr"/>
          <lit-tag v="nom"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
<!--	<b/>
        <lu>
          <lit v="واحد"/>
          <lit-tag v="num"/>
          <clip pos="2" side="tl" part="gen"/>
          <lit-tag v="sg"/>
	</lu>  -->
	<b/>
        <lu>
          <clip pos="3" side="tl" part="whole"/>
        </lu>
	<b/>
        <lu>
          <clip pos="4" side="tl" part="whole"/>
        </lu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 113: In-nomi ewlenin huma l-aktar bażiċi"> 
      <pattern>
        <pattern-item n="artic"/>
        <pattern-item n="non-np"/>
        <pattern-item n="adj"/>
        <pattern-item n="freepron"/> <!-- p3, again -->
        <pattern-item n="artic"/>
        <pattern-item n="detqnt_comp"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="myf_concord2">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="myf_concord2">
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="myf_concord2">
          <with-param pos="2"/>
          <with-param pos="7"/>
        </call-macro>
        <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	  <mlu>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_nom"/>
              <clip pos="2" side="tl" part="gen"/>
              <clip pos="2" side="tl" part="a_anim"/>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="nom"/>
              <lit-tag v="artic"/>
              <clip pos="2" side="tl" part="poss"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
	  </mlu>
	  <b/>
	  <mlu>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
    	    <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_adj"/>
              <clip pos="3" side="tl" part="gen"/> 
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="nom"/>
              <lit-tag v="artic"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
	  </mlu>
	  <b/>
          <lu>
            <clip pos="4" side="tl" part="whole"/>
          </lu>
	  <b/>
	  <mlu>
            <lu>
              <clip pos="5" side="tl" part="whole"/>
            </lu>
  	    <lu>
              <clip pos="6" side="tl" part="lem"/>
              <clip pos="6" side="tl" part="a_det"/>
              <clip pos="6" side="tl" part="gen"/> 
              <clip pos="6" side="tl" part="nbr"/>
            </lu>
	  </mlu>
	  <b/>
  	  <lu>
            <clip pos="7" side="tl" part="lemh"/>
            <clip pos="7" side="tl" part="a_adj"/>
            <clip pos="7" side="tl" part="gen"/> 
            <clip pos="7" side="tl" part="nbr"/>
            <lit-tag v="nom"/>
            <clip pos="7" side="tl" part="lemq"/>
          </lu>
        </chunk></out>
      </action>
    </rule>


    <!-- should be both def. or both undef. ... -->
    <rule comment="rule 114: (55 + noun, prep + gen), tal-femminil singular ">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>  <!-- artic here, so it's not st.cstr. -->
         <pattern-item n="non-np"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 115: (2 + adv + vrb) In-nomi mnisslin x'aktarx mnisslin">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
         <pattern-item n="adj"/>
         <pattern-item n="adv"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="5"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <mlu>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>	     
             <lu>
               <clip pos="2" side="tl" part="lem"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
               <lit-tag v="nom"/>
               <lit-tag v="artic"/>
             </lu>
	   </mlu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="3" side="tl" part="lem"/>
               <clip pos="3" side="tl" part="a_adj"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="nom"/>
               <lit-tag v="artic"/>
             </lu>
	   </mlu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="5" side="tl" part="lem"/>
             <clip pos="5" side="tl" part="a_adj"/>
             <clip pos="5" side="tl" part="gen"/>
             <clip pos="5" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 116: Fil-qasam ta' metalli">  
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="3" side="tl" part="poss"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
  	     <lu>
               <clip pos="2" side="tl" part="whole"/>
	     </lu>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_nom"/>
               <clip pos="5" side="tl" part="gen"/>
               <clip pos="5" side="tl" part="a_anim"/>
               <clip pos="5" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="5" side="tl" part="poss"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
	   </mlu>
         </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 117: fil-forma tad-diminuttiv">  
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="3" side="tl" part="poss"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
  	     <lu>
               <clip pos="5" side="tl" part="whole"/>
	     </lu>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="a_nom"/>
               <clip pos="6" side="tl" part="gen"/>
               <clip pos="6" side="tl" part="a_anim"/>
               <clip pos="6" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="6" side="tl" part="poss"/>
               <clip pos="6" side="tl" part="lemq"/>
             </lu>
	   </mlu>
         </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 118: n-nomi Semitiċi huma kklassifikati"> 
      <pattern>
        <pattern-item n="artic"/>
        <pattern-item n="non-np"/>
        <pattern-item n="adj"/>
        <pattern-item n="freepron"/> <!-- p3, again -->
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="myf_concord2">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="myf_concord2">
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="myf_concord2">
          <with-param pos="2"/>
          <with-param pos="5"/>
        </call-macro>
        <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	  <mlu>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_nom"/>
              <clip pos="2" side="tl" part="gen"/>
              <clip pos="2" side="tl" part="a_anim"/>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="nom"/>
              <lit-tag v="artic"/>
              <clip pos="2" side="tl" part="poss"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
	  </mlu>
	  <b/>
	  <mlu>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
    	    <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_adj"/>
              <clip pos="3" side="tl" part="gen"/> 
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="nom"/>
              <lit-tag v="artic"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
	  </mlu>
	  <b/>
          <lu>
            <clip pos="4" side="tl" part="whole"/>
          </lu>
	  <b/>
  	  <lu>
            <clip pos="5" side="tl" part="lemh"/>
            <clip pos="5" side="tl" part="a_adj"/>
            <clip pos="5" side="tl" part="gen"/> 
            <clip pos="5" side="tl" part="nbr"/>
            <lit-tag v="nom"/>
            <clip pos="5" side="tl" part="lemq"/>
          </lu>
        </chunk></out>
      </action>
    </rule>


    <rule comment="rule 119: ok, last rule, this one is really stupid (not only this one) - in-nomi mimmati huma nomi ta' post"> 
      <pattern>
        <pattern-item n="artic"/>
        <pattern-item n="non-np"/>
        <pattern-item n="adj"/>
        <pattern-item n="freepron"/> <!-- p3, again -->
        <pattern-item n="non-np"/>
        <pattern-item n="ta_pr"/>
        <pattern-item n="non-np"/>
      </pattern>
      <action>
        <call-macro n="myf_concord2">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="myf_concord2">
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	  <mlu>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_nom"/>
              <clip pos="2" side="tl" part="gen"/>
              <clip pos="2" side="tl" part="a_anim"/>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="nom"/>
              <lit-tag v="artic"/>
              <clip pos="2" side="tl" part="poss"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
	  </mlu>
	  <b/>
	  <mlu>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
    	    <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_adj"/>
              <clip pos="3" side="tl" part="gen"/> 
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="nom"/>
              <lit-tag v="artic"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
	  </mlu>
	  <b/>
          <lu>
            <clip pos="4" side="tl" part="whole"/>
          </lu>
	  <b/>
          <lu>
            <clip pos="5" side="tl" part="lemh"/>
            <clip pos="5" side="tl" part="a_nom"/>
            <clip pos="5" side="tl" part="gen"/>
            <clip pos="5" side="tl" part="a_anim"/>
            <clip pos="5" side="tl" part="nbr"/>
            <lit-tag v="nom"/>
            <lit-tag v="cstr"/>
            <clip pos="5" side="tl" part="poss"/>
            <clip pos="5" side="tl" part="lemq"/>
          </lu>
	  <b/>
          <lu>
            <clip pos="7" side="tl" part="lemh"/>
            <clip pos="7" side="tl" part="a_nom"/>
            <clip pos="7" side="tl" part="gen"/>
            <clip pos="7" side="tl" part="a_anim"/>
            <clip pos="7" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <clip pos="7" side="tl" part="poss"/>
            <clip pos="7" side="tl" part="lemq"/>
          </lu>
        </chunk></out>
      </action>
    </rule>


    <rule comment="rule 120: xi nomi Semitiċi"> 
      <pattern>
        <pattern-item n="non-np"/>
        <pattern-item n="ta_pr"/>	
        <pattern-item n="xi"/>
        <pattern-item n="nompl"/>
        <pattern-item n="ta_pr"/>
        <pattern-item n="non-np"/>
      </pattern>
      <action>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <clip pos="1" side="tl" part="lemh"/>
          <clip pos="1" side="tl" part="a_nom"/>
          <clip pos="1" side="tl" part="gen"/>
          <clip pos="1" side="tl" part="a_anim"/>
          <clip pos="1" side="tl" part="nbr"/>
          <lit-tag v="gen"/>
          <lit-tag v="cstr"/>
          <clip pos="1" side="tl" part="lemq"/>
        </lu>
        <b/>
        <lu>
          <lit v="بعض"/>
          <lit-tag v="det"/>
          <lit-tag v="qnt"/>
          <lit-tag v="mf"/>
          <lit-tag v="sp"/>
        </lu>
	<b/>
        <lu>
          <clip pos="4" side="tl" part="lemh"/>
          <clip pos="4" side="tl" part="a_nom"/>
          <clip pos="4" side="tl" part="gen"/>
          <clip pos="4" side="tl" part="a_anim"/>
          <clip pos="4" side="tl" part="nbr"/>
          <lit-tag v="gen"/>
          <lit-tag v="cstr"/>
          <clip pos="4" side="tl" part="lemq"/>
        </lu>
 	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
          <lu>
            <clip pos="6" side="tl" part="lemh"/>
            <clip pos="6" side="tl" part="a_nom"/>
            <clip pos="6" side="tl" part="gen"/>
            <clip pos="6" side="tl" part="a_anim"/>
            <clip pos="6" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="cstr"/>
            <clip pos="6" side="tl" part="lemq"/>
          </lu>
        </mlu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 121: xi forma jew oħra"> 
      <pattern>
        <pattern-item n="xi"/>
        <pattern-item n="nomsg"/>
        <pattern-item n="adj"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="detind"/> <!-- prn -->
      </pattern>
      <action>
      <call-macro n="myf_concord2">
        <with-param pos="2"/>
        <with-param pos="3"/>
      </call-macro>
      <call-macro n="myf_concord2">
        <with-param pos="2"/>
        <with-param pos="5"/>
      </call-macro>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
          <clip pos="2" side="tl" part="nbr"/>
          <lit-tag v="nom"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
	<b/>
        <lu>
          <clip pos="3" side="tl" part="lemh"/>
          <clip pos="3" side="tl" part="a_adj"/>
          <clip pos="3" side="tl" part="gen"/> 
          <clip pos="3" side="tl" part="nbr"/>
          <lit-tag v="nom"/>
          <clip pos="3" side="tl" part="lemq"/>
        </lu>
	<b/>
        <lu>
          <clip pos="4" side="tl" part="whole"/>
        </lu>
	<b/>
        <lu>
          <clip pos="5" side="tl" part="whole"/>
        </lu>
      </chunk></out>
    </action>
  </rule>


  <!-- numerals -->

    <rule comment="rule 122: three - ten"> 
      <pattern>
        <pattern-item n="units"/>
        <pattern-item n="non-np"/>
      </pattern>
      <action>
      <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
      <choose>
	<when>
	  <test>
	    <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></equal>
	  </test>
	  <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
	</when>
	<otherwise>
	  <let><clip pos="1" side="tl" part="gen"/><lit-tag v="f"/></let>
	</otherwise>
      </choose>
        <out>
	   <chunk name="num_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
       	       <tag><lit-tag v="pl"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
        <lu>
          <clip pos="1" side="tl" part="lemh"/>
          <clip pos="1" side="tl" part="a_num"/>
          <clip pos="1" side="tl" part="gen"/>
          <clip pos="1" side="tl" part="nbr"/>
          <clip pos="1" side="tl" part="case" link-to="5"/>
	  <lit-tag v="cstr"/>
          <clip pos="1" side="tl" part="lemq"/>
        </lu>
	<b/>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
<!--          <clip pos="2" side="tl" part="nbr"/> -->
          <lit-tag v="pl"/>
          <lit-tag v="gen"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
      </chunk></out>
    </action>
    </rule>


    <rule comment="rule 123: teens"> 
      <pattern>
        <pattern-item n="teens"/>
        <pattern-item n="non-np"/>
      </pattern>
      <action>
      <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
      <choose>
	<when>
	  <test>
	    <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></equal>
	  </test>
	  <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
	</when>
	<otherwise>
	  <let><clip pos="1" side="tl" part="gen"/><lit-tag v="f"/></let>
	</otherwise>
      </choose>
        <out>
	   <chunk name="num_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
       	       <tag><lit-tag v="pl"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
        <lu>
          <clip pos="1" side="tl" part="lemh"/>
          <clip pos="1" side="tl" part="a_num"/>
          <clip pos="1" side="tl" part="gen"/>
          <clip pos="1" side="tl" part="nbr"/>
          <clip pos="1" side="tl" part="case" link-to="5"/>
          <clip pos="1" side="tl" part="lemq"/>
        </lu>
	<b/>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
<!--          <clip pos="2" side="tl" part="nbr"/> -->
          <lit-tag v="sg"/>
          <lit-tag v="acc"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
      </chunk></out>
    </action>
    </rule>



    <rule comment="rule 124: tens"> 
      <pattern>
        <pattern-item n="tens"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
      <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
        <out>
	   <chunk name="num_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
       	       <tag><lit-tag v="pl"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
        <lu>
          <clip pos="1" side="tl" part="lemh"/>
          <clip pos="1" side="tl" part="a_num"/>
          <clip pos="1" side="tl" part="gen"/>
          <clip pos="1" side="tl" part="nbr"/>
          <clip pos="1" side="tl" part="case" link-to="5"/>
          <clip pos="1" side="tl" part="lemq"/>
        </lu>
	<b/>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
<!--          <clip pos="2" side="tl" part="nbr"/> -->
          <lit-tag v="sg"/>
          <lit-tag v="acc"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
      </chunk></out>
    </action>
    </rule>


    <rule comment="rule 125: tens with units"> 
      <pattern>
        <pattern-item n="units"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="tens"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
      <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
      <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
      <choose>
	<when>
	  <test>
	    <equal><clip pos="4" side="tl" part="gen"/><lit-tag v="m"/></equal>
	  </test>
	  <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
	</when>
	<otherwise>
	  <let><clip pos="1" side="tl" part="gen"/><lit-tag v="f"/></let>
	</otherwise>
      </choose>
        <out>
	   <chunk name="num_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="4" side="tl" part="a_anim"/></tag>
       	       <tag><lit-tag v="pl"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
        <lu>
          <clip pos="1" side="tl" part="lemh"/>
          <clip pos="1" side="tl" part="a_num"/>
          <clip pos="1" side="tl" part="gen"/>
          <clip pos="1" side="tl" part="nbr"/>
          <clip pos="1" side="tl" part="case" link-to="5"/>
          <clip pos="1" side="tl" part="lemq"/>
        </lu>
	<b/>
        <lu>
          <clip pos="2" side="tl" part="whole"/>
        </lu>
	<b/>
        <lu>
          <clip pos="3" side="tl" part="lemh"/>
          <clip pos="3" side="tl" part="a_num"/>
          <clip pos="3" side="tl" part="gen"/>
          <clip pos="3" side="tl" part="nbr"/>
          <clip pos="3" side="tl" part="case" link-to="5"/>
          <clip pos="3" side="tl" part="lemq"/>
        </lu>
	<b/>
        <lu>
          <clip pos="4" side="tl" part="lemh"/>
          <clip pos="4" side="tl" part="a_nom"/>
          <clip pos="4" side="tl" part="gen"/>
          <clip pos="4" side="tl" part="a_anim"/>
<!--          <clip pos="4" side="tl" part="nbr"/> -->
          <lit-tag v="sg"/>
          <lit-tag v="acc"/>
          <clip pos="4" side="tl" part="lemq"/>
        </lu>
      </chunk></out>
    </action>
    </rule>


    <rule comment="rule 126: hundreds"> 
      <pattern>
        <pattern-item n="hundreds"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
      <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
        <out>
	   <chunk name="num_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
       	       <tag><lit-tag v="pl"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
        <lu>
          <clip pos="1" side="tl" part="lemh"/>
          <clip pos="1" side="tl" part="a_num"/>
          <clip pos="1" side="tl" part="gen"/>
          <clip pos="1" side="tl" part="nbr"/>
          <clip pos="1" side="tl" part="case" link-to="5"/>
          <clip pos="1" side="tl" part="lemq"/>
        </lu>
	<b/>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
<!--          <clip pos="4" side="tl" part="nbr"/> -->
          <lit-tag v="sg"/>
          <lit-tag v="gen"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 127: ordinal numbers"> 
      <pattern>
        <pattern-item n="artic"/>
        <pattern-item n="numord"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
         <call-macro n="myf_concord2"><with-param pos="3"/><with-param pos="2"/></call-macro>
        <out>
	   <chunk name="n_numord">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="3" side="tl" part="gen"/></tag>
	       <tag><clip pos="3" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="3" side="tl" part="nbr"/></tag>
	       <tag><clip pos="3" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
	<mlu>
          <lu>
            <clip pos="1" side="tl" part="whole"/>
          </lu>
          <lu>
            <clip pos="3" side="tl" part="lemh"/>
            <clip pos="3" side="tl" part="a_nom"/>
            <clip pos="3" side="tl" part="gen"/>
            <clip pos="3" side="tl" part="a_anim"/>
            <clip pos="3" side="tl" part="nbr"/>
            <clip pos="3" side="tl" part="case" link-to="5"/>
            <lit-tag v="artic"/>
            <clip pos="3" side="tl" part="lemq"/>
          </lu>
	</mlu>
	<b/>        
	<mlu>
          <lu>
            <clip pos="1" side="tl" part="whole"/>
          </lu>
	  <lu>
            <clip pos="2" side="tl" part="lemh"/>
            <clip pos="2" side="tl" part="a_num"/>
            <clip pos="2" side="tl" part="gen"/>
            <clip pos="2" side="tl" part="nbr"/>
            <clip pos="2" side="tl" part="case" link-to="5"/>
            <lit-tag v="artic"/>
            <clip pos="2" side="tl" part="lemq"/>
          </lu>
	</mlu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 128: (2') artic np + adj gender and number agreement">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="np"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="myf_concord2"><with-param pos="2"/><with-param pos="3"/></call-macro>
         <out>
	   <chunk name="np_art_adj">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><lit-tag v="nn"/></tag>  <!--  TODO: ant, cog should have aa -->
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
	       <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
	       <clip pos="2" side="tl" part="case" link-to="5"/>
 	       <clip pos="2" side="tl" part="lemq"/>
 	     </lu>
	     <b pos="1"/>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
               <lu>
	         <clip pos="3" side="tl" part="lemh"/>
                 <clip pos="3" side="tl" part="a_adj"/>
                 <clip pos="3" side="tl" part="gen"/>
                 <clip pos="3" side="tl" part="nbr"/>
	         <clip pos="3" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="3" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	   </chunk>
         </out>
       </action>
    </rule>


    <rule comment="rule 129: Qurgħan huwa l-ktieb l-imqaddes tal-Iżlam">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="artic"/>
         <pattern-item n="adj"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="myf_concord2"><with-param pos="2"/><with-param pos="4"/></call-macro>
         <out>
	   <chunk name="n_art_n_art_adj">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
	       <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
	       <clip pos="2" side="tl" part="case" link-to="5"/>
               <lit-tag v="cstr"/>
 	       <clip pos="2" side="tl" part="lemq"/>
 	     </lu>
	     <b/>
  	     <mlu>
               <lu>
                 <clip pos="6" side="tl" part="whole"/>
               </lu>
               <lu>
  	         <clip pos="7" side="tl" part="lemh"/>
                 <clip pos="7" side="tl" part="a_nom"/>
                 <clip pos="7" side="tl" part="gen"/>
                 <clip pos="7" side="tl" part="a_anim"/>
                 <clip pos="7" side="tl" part="nbr"/>
                 <lit-tag v="gen"/>
                 <lit-tag v="artic"/>
 	         <clip pos="7" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	     <b/>
  	     <mlu>
               <lu>
                 <clip pos="3" side="tl" part="whole"/>
               </lu>
               <lu>
	         <clip pos="4" side="tl" part="lemh"/>
                 <clip pos="4" side="tl" part="a_adj"/>
                 <clip pos="4" side="tl" part="gen"/>
                 <clip pos="4" side="tl" part="nbr"/>
	         <clip pos="4" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="4" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	   </chunk>
         </out>
       </action>
    </rule>



    <rule comment="rule 130: il-verżjoni Għarbija hi l-veru Koran">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="adj"/>
         <pattern-item n="np"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
	 <choose>
	   <when>
  	     <test><and>
	       <not><equal><clip pos="3" side="tl" part="gen"/><lit-tag v="mf"/></equal></not>
	       <not><equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="sp"/></equal></not>
	     </and></test>
             <call-macro n="myf_concord2"><with-param pos="3"/><with-param pos="2"/></call-macro>
	   </when>
	   <otherwise>
             <call-macro n="f_concord1"><with-param pos="2"/></call-macro>
	   </otherwise>
	 </choose>
         <out>
	   <chunk name="np_art_adj">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="3" side="tl" part="gen"/></tag>
	       <tag><lit-tag v="nn"/></tag>  <!-- TODO: check np type -->
	       <tag><clip pos="3" side="tl" part="nbr"/></tag>
	       <tag><clip pos="3" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="nbr"/>
               <clip pos="3" side="tl" part="case" link-to="5"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
	     <b/>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
               <lu>
	         <clip pos="2" side="tl" part="lemh"/>
                 <clip pos="2" side="tl" part="a_adj"/>
                 <clip pos="2" side="tl" part="gen"/>
                 <clip pos="2" side="tl" part="nbr"/>
	         <clip pos="2" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="2" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	   </chunk>
         </out>
       </action>
    </rule>


    <rule comment="rule 131: u ilu jinqara b'dan l-ilsien biss għal aktar minn 1,400 sena">
       <pattern>
         <pattern-item n="detdem"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
         <call-macro n="myf_concord2"><with-param pos="3"/><with-param pos="1"/></call-macro>
         <out>
	   <chunk name="det_art_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="3" side="tl" part="gen"/></tag>
	       <tag><clip pos="3" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="3" side="tl" part="nbr"/></tag>
	       <tag><clip pos="3" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
	     <b/>
  	     <mlu>
               <lu>
                 <clip pos="2" side="tl" part="whole"/>
               </lu>
               <lu>
                 <clip pos="3" side="tl" part="lemh"/>
                 <clip pos="3" side="tl" part="a_nom"/>
                 <clip pos="3" side="tl" part="gen"/>
                 <clip pos="3" side="tl" part="a_anim"/>
                 <clip pos="3" side="tl" part="nbr"/>
                 <clip pos="3" side="tl" part="case" link-to="5"/>
                 <clip pos="3" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	   </chunk>
         </out>
       </action>
    </rule>


    <rule comment="rule 132: (114') Il-Misilmin iqisu l-Koran bħala Il-Kelma t'Alla.">  
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="np"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="5"/></call-macro>
         <out>
	   <chunk name="pr">
	     <tags>
	       <tag><lit-tag v="SP"/></tag>
	     </tags>
  	     <lu>
               <clip pos="1" side="tl" part="whole"/>
	     </lu>
	   </chunk>
	   <b/>
	   <chunk name="n_np">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="3" side="tl" part="gen"/></tag>
	       <tag><clip pos="3" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="3" side="tl" part="nbr"/></tag>
	       <tag><clip pos="3" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
               <clip pos="3" side="tl" part="nbr"/>
               <clip pos="3" side="tl" part="case" link-to="5"/>
               <lit-tag v="cstr"/>
               <clip pos="3" side="tl" part="poss"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
	     <b/>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_nom"/>
               <clip pos="5" side="tl" part="gen"/>
               <clip pos="5" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule> 



    <rule comment="rule 133: Dawn il-kotba huma bħal dizzjunarji tal-Koran.">  
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="np"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="5"/></call-macro>
         <out>
	   <chunk name="pr">
	     <tags>
	       <tag><lit-tag v="SP"/></tag>
	     </tags>
  	     <lu>
               <clip pos="1" side="tl" part="whole"/>
	     </lu>
	   </chunk>
	   <b/>
	   <chunk name="n_np">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="case" link-to="5"/>
               <lit-tag v="cstr"/>
               <clip pos="2" side="tl" part="poss"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	     <b/>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_nom"/>
               <clip pos="5" side="tl" part="gen"/>
               <clip pos="5" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule> 


    <rule comment="rule 134: l-Koran kien imħabbar għall-ewwel darba lil Muħammed mill-Arkanġlu Gabriel f'għar fil-muntanji ta' Hira fil-Mekka, u mbagħad matul it-23 sena ta' wara sa mewtu.">   <!-- for now, there should be 1 rule of this kind per num grup (units, teens, tens etc); also, maybe السنوات الخمس construction should be used here, not خمس سنوات -->
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="digitnum"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
      <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
        <out>
	   <chunk name="num_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="3" side="tl" part="gen"/></tag>
	       <tag><clip pos="3" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="3" side="tl" part="num"/></tag>
	       <tag><clip pos="3" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_num"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="case"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	     <b/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
               <clip pos="3" side="tl" part="nbr"/>
               <clip pos="3" side="tl" part="case"/> 
               <clip pos="3" side="tl" part="lemq"/>
            </lu>
           </chunk>
	 </out>
       </action>
    </rule> 


    <rule comment="rule 135: Il-Koran ma kienx miktub kollu f'daqqa f'għamla ta' ktieb meta Muħammed kien għadu ħaj">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="vrbpast"/>
         <pattern-item n="xneg"/>
         <pattern-item n="particip"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="4"/></call-macro>
	  <out>
	    <chunk name="vrb">  <!-- vaux? كان وأخواتها؟ -->
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="2" side="tl" part="a_voice"/></tag>
 	       <tag><clip pos="2" side="tl" part="temps"/></tag>
 	       <tag><clip pos="2" side="tl" part="pers"/></tag>
 	       <tag><var n="genero"/></tag> <!-- fix -->
   	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
 	     </tags>
  	     <lu>
	       <lit v="لم"/><lit-tag v="adv"/>
	     </lu>
	     <b/>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="a_trans"/>
               <clip pos="2" side="tl" part="a_voice"/>
               <lit-tag v="apocop"/>
               <clip pos="2" side="tl" part="pers"/>
               <var n="genero"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	     </chunk>
	     <b/>
	     <chunk name="part">
	     <tags>
	       <tag><lit-tag v="SA"/></tag>
	       <tag><clip pos="4" side="tl" part="gen"/></tag>
	       <tag><clip pos="4" side="tl" part="nbr"/></tag>
	       <tag><clip pos="4" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_verb"/>
               <clip pos="4" side="tl" part="a_trans"/>
               <clip pos="4" side="tl" part="a_voice"/>
               <clip pos="4" side="tl" part="a_particip"/>
               <clip pos="4" side="tl" part="gen"/> 
               <clip pos="4" side="tl" part="nbr"/>
  	       <lit-tag v="acc"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule> 



    <rule comment="rule 136: imma kien miżmum bil-kelma u kitbiet qsar biex iffakkru">
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="particip"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
	 <choose>
	   <when>
	     <test><and>
		<equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
		<equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal>
	     </and></test>  <!-- TODO: set GD -->
	     <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
	   </when>
	 </choose>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
	  <out>
	    <chunk name="vrb">  <!-- vaux? كان وأخواتها؟ -->
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_voice"/></tag>
 	       <tag><clip pos="1" side="tl" part="temps"/></tag>
 	       <tag><clip pos="1" side="tl" part="pers"/></tag>
 	       <tag><var n="genero"/></tag> <!-- fix -->
   	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="a_trans"/>
               <clip pos="1" side="tl" part="a_voice"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="mood"/>
               <clip pos="1" side="tl" part="pers"/>
               <var n="genero"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
	     </chunk>
	     <b/>
	     <chunk name="part">
	     <tags>
	       <tag><lit-tag v="SA"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="a_trans"/>
               <clip pos="2" side="tl" part="a_voice"/>
               <clip pos="2" side="tl" part="a_particip"/>
               <clip pos="2" side="tl" part="gen"/> 
               <clip pos="2" side="tl" part="nbr"/>
  	       <lit-tag v="acc"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule> 



    <rule comment="rule 137: Il-Koran ma kienx miktub kollu f'daqqa f'għamla ta' ktieb meta Muħammed kien għadu ħaj">
       <pattern>   <!-- hm, that's past of 'għad' -->
         <pattern-item n="kien"/>
         <pattern-item n="għad"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
	  <out>
	    <chunk name="vrb">  <!-- vaux? كان وأخواتها؟ -->
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_voice"/></tag>
 	       <tag><clip pos="1" side="tl" part="temps"/></tag>
 	       <tag><clip pos="1" side="tl" part="pers"/></tag>
 	       <tag><var n="genero"/></tag> <!-- fix -->
   	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="a_trans"/>
               <clip pos="1" side="tl" part="a_voice"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="mood"/>
               <clip pos="1" side="tl" part="pers"/>
               <var n="genero"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
	     </chunk>
	     <b/>
	     <chunk name="adj">
	     <tags>
	       <tag><lit-tag v="SA"/></tag>
	       <tag><clip pos="3" side="tl" part="gen"/></tag>
	       <tag><clip pos="3" side="tl" part="nbr"/></tag>
	       <tag><lit-tag v="acc"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
             <lu>
	       <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_adj"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="nbr"/>
	       <clip pos="3" side="tl" part="case" link-to="4"/>
 	       <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule> 


    <rule comment="rule 138: irranġa li l-Koran jinkiteb f'għamla ta' ktieb">  
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="4"/></call-macro>
         <out>
	   <chunk name="pr">
	     <tags>
	       <tag><lit-tag v="SP"/></tag>
	     </tags>
  	     <lu>
               <clip pos="1" side="tl" part="whole"/>
	     </lu>
	   </chunk>
	   <b/>
	   <chunk name="n_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="case" link-to="5"/>
               <lit-tag v="cstr"/>
               <clip pos="2" side="tl" part="poss"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	     <b/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_nom"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="a_anim"/>
               <clip pos="4" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="cstr"/>
               <clip pos="4" side="tl" part="poss"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule> 


    <rule comment="rule 139: kompla jirfina l-forma miktuba tiegħu">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="particip"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="myf_concord2"><with-param pos="2"/><with-param pos="3"/></call-macro>
         <out>
	   <chunk name="n_part">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
	     <lu>
	       <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
	       <clip pos="2" side="tl" part="case" link-to="5"/>
	       <lit-tag v="px3sg_m"/>
 	       <clip pos="2" side="tl" part="lemq"/>
 	     </lu>
	     <b/>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
	     <b/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_verb"/>
               <clip pos="3" side="tl" part="a_trans"/>
               <clip pos="3" side="tl" part="a_voice"/>
               <clip pos="3" side="tl" part="a_particip"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="nom"/>  <!--  <clip pos="3" side="tl" part="case" link-to="5"/> -->
<!--		 <lit-tag v="artic"/>  -->
 	       <clip pos="3" side="tl" part="lemq"/>
             </lu>
	   </chunk>
         </out>
       </action>
    </rule>


    <rule comment="rule 140: Uthman, li kien it-tielet kalif, kompla jirfina l-forma miktuba tiegħu.">  <!-- ok, so it was comma problem --> 
       <pattern>
         <pattern-item n="np"/>
         <pattern-item n="rel"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
	 <choose>
	   <when>
	     <test><and>
  	       <not><equal><clip pos="2" side="tl" part="gen"/><lit-tag v="mf"/></equal></not>
	       <not><equal><clip pos="2" side="tl" part="gen"/><lit-tag v="GD"/></equal></not>
	     </and></test>
  	     <let><clip pos="2" side="tl" part="gen"/><clip pos="1" side="tl" part="gen"/></let>
	   </when>
	   <otherwise>
  	     <let><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></let>
	   </otherwise>
	 </choose>
	 <choose>
	   <when>
	     <test><and>
  	       <not><equal><clip pos="2" side="tl" part="gen"/><lit-tag v="sp"/></equal></not>
	       <not><equal><clip pos="2" side="tl" part="gen"/><lit-tag v="ND"/></equal></not>
	     </and></test>
	     <let><clip pos="2" side="tl" part="nbr"/><clip pos="1" side="tl" part="nbr"/></let>
	   </when>
	   <otherwise>
  	     <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></let>
	   </otherwise>
	 </choose>
         <out>
	   <chunk name="np">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><lit-tag v="aa"/></tag>
	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
	       <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_nom"/>
               <clip pos="1" side="tl" part="gen"/>
               <clip pos="1" side="tl" part="nbr"/>
	       <clip pos="1" side="tl" part="case" link-to="5"/>
 	       <clip pos="1" side="tl" part="lemq"/>
 	     </lu>
  	   </chunk>
	   <b/>
 	   <chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <lit v="الذي"/>
             <lit-tag v="rel"/>
             <lit-tag v="an"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="nbr"/>
	   </lu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 141: pronouns">  <!-- should I have animacy tag here? -->
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="pron"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro>
	 <let><clip pos="2" side="tl" part="case"/><lit-tag v="gen"/></let>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_prn"/>
             <clip pos="2" side="tl" part="pers"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="case"/>
             <clip pos="2" side="tl" part="poss"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <!-- TODO: check whether forms without 'ma' are used -->
    <rule comment="rule 142: ليس">  
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="freepron"/>
         <pattern-item n="xneg"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="2"/></call-macro>
         <out>
	   <chunk name="kien">   <!-- because it's like 'كان and her sisters' -->
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="actv"/></tag>  <!-- hm -->
 	       <tag><lit-tag v="pres"/></tag>
 	       <tag><clip pos="2" side="tl" part="pers"/></tag>
 	       <tag><clip pos="2" side="tl" part="gen"/></tag>
   	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
 	     </tags>
             <lu>
  	       <lit v="ليس"/>
	       <lit-tag v="vaux"/>
	       <lit-tag v="iv"/> 
	       <lit-tag v="actv"/> 
  	       <lit-tag v="pres"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="gen" link-to="5"/>
               <clip pos="2" side="tl" part="nbr" link-to="6"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule>


    <rule comment="rule 143: verb">
       <pattern>
         <pattern-item n="vaux"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <out>
  	   <chunk name="vaux">
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_voice"/></tag>
 	       <tag><clip pos="1" side="tl" part="temps"/></tag>
 	       <tag><clip pos="1" side="tl" part="pers"/></tag>
 	       <tag><clip pos="1" side="tl" part="gen"/></tag>
   	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags>
 	     <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="a_trans"/>
               <clip pos="1" side="tl" part="a_voice"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="gen" link-to="5"/>
               <clip pos="1" side="tl" part="nbr" link-to="6"/>
               <clip pos="1" side="tl" part="lemq"/>
 	     </lu>
 	   </chunk>
         </out>
       </action>
     </rule>

     <!-- story5 -->


    <rule comment="rule 144: minn fuq il-mezzi tax-xandir tisma’ _l-mużika ta’ għamla differenti_"> 
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>  
       </pattern>
       <action>
	 <!-- is it possible to have both artic. and poss. suffix ?? -->
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="4"/></call-macro>
         <call-macro n="adjf_concord2"><with-param pos="2"/><with-param pos="5"/></call-macro>
	 <out>
	   <chunk name="art_n_art_adj_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
               <lu>
                 <clip pos="2" side="tl" part="lemh"/>
                 <clip pos="2" side="tl" part="a_nom"/>
                 <clip pos="2" side="tl" part="gen"/>
                 <clip pos="2" side="tl" part="a_anim"/>
                 <clip pos="2" side="tl" part="nbr"/>
                 <clip pos="2" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
                 <clip pos="2" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	     <b/>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
               <lu>
                 <clip pos="5" side="tl" part="lemh"/>
                 <clip pos="5" side="tl" part="a_adj"/>
                 <clip pos="5" side="tl" part="gen"/>
                 <clip pos="5" side="tl" part="nbr"/>
                 <clip pos="5" side="tl" part="case" link-to="5"/>
                 <lit-tag v="cstr"/>   <!-- or artic? - false idafa... -->
                 <clip pos="5" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	     <b/>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
               <lu>
                 <clip pos="4" side="tl" part="lemh"/>
                 <clip pos="4" side="tl" part="a_nom"/>
                 <clip pos="4" side="tl" part="gen"/>
                 <clip pos="4" side="tl" part="a_anim"/>
                 <clip pos="4" side="tl" part="nbr"/>
                 <lit-tag v="gen"/>
<!--                 <clip pos="4" side="tl" part="poss"/>  -->
                 <lit-tag v="artic"/>
                 <clip pos="4" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	   </chunk>
	 </out>
       </action>
    </rule>


   <rule comment="rule 145: Madwar id-dinja kollha, eluf ta’ nies jattendu għal kunċerti minn gruppi, orkestri, baned u _għal spettakli kbar mużikali_, bħal opri, operetti u balletti">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="4"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lem"/>
             <clip pos="3" side="tl" part="a_adj"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lem"/>
             <clip pos="4" side="tl" part="a_adj"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 146: superlative, B’hekk insibu li _l-ibgħad missirijietna_ bdew jirriproduċu l-ħsejjes"> 
       <pattern>
         <pattern-item n="cnjsub"/>
         <pattern-item n="artic"/>
         <pattern-item n="adjcomp"/>
         <pattern-item n="nom_px"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro> 
         <call-macro n="set_px_gen"><with-param pos="3"/></call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
         <lu>
           <clip pos="1" side="tl" part="whole"/>
         </lu>
	 <b/>
         <lu>
           <clip pos="4" side="tl" part="lemh"/>
           <clip pos="4" side="tl" part="a_nom"/>
           <clip pos="4" side="tl" part="gen"/>
           <clip pos="4" side="tl" part="a_anim"/>
           <clip pos="4" side="tl" part="nbr"/>
           <lit-tag v="acc"/>
           <clip pos="4" side="tl" part="poss"/>
           <clip pos="4" side="tl" part="lemq"/>
         </lu>
	 <b/>
	 <mlu>
	   <lu>
             <clip pos="2" side="tl" part="whole"/>
           </lu>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_adj"/>
             <clip pos="3" side="tl" part="comp"/>
<!--             <clip pos="3" side="tl" part="gen"/>  --> <!-- some adj have different gen & nbr comp forms! -->
<!--             <clip pos="3" side="tl" part="nbr"/>  -->
	     <lit-tag v="nom"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	 </mlu>
         </chunk></out>
       </action>
    </rule>

<!-- that's how it will be written one day, now we have det + px tags :((( 
   <rule comment="rule 147: Madwar _id-dinja kollha_, eluf ta’ nies jattendu għal kunċerti"> 
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="det"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
	 <choose>  
	   <when>
	     <test><and>
	     <equal><clip pos="4" side="tl" part="pers"/><lit-tag v="p3"/></equal>
	     <equal><clip pos="2" side="tl" part="gen"/><clip pos="2" side="tl" part="gen"/></equal>
	     <equal><clip pos="2" side="tl" part="nbr"/><clip pos="2" side="tl" part="nbr"/></equal>
	     </and></test>
             <call-macro n="adjf_concord2"><with-param pos="2"/><with-param pos="4"/></call-macro>
	   </when>
	 </choose>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	 <mlu>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="a_case"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	 </mlu>
	 <b/>
	 <mlu>
	   <lu>
             <clip pos="3" side="tl" part="whole"/>
           </lu>
	 <mlu>
	   <lu>
             <clip pos="4" side="tl" part="whole"/>
           </lu>
	 </mlu>
         </chunk></out>
       </action>
    </rule>
-->


   <rule comment="rule 147: Madwar _id-dinja kollha_, eluf ta’ nies jattendu għal kunċerti"> 
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="det_px"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
	 <choose>  
	   <when>
	     <test><and>
	        <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
	        <equal><clip pos="3" side="tl" part="gen"/><lit-tag v="f"/></equal>
	     </and></test>
	     <let><clip pos="4" side="tl" part="poss"/><lit-tag v="px3sg_f"/></let>
           </when>
	   <when>
	     <test><and>
	        <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
	        <equal><clip pos="3" side="tl" part="gen"/><lit-tag v="m"/></equal>
	     </and></test>
	     <let><clip pos="4" side="tl" part="poss"/><lit-tag v="px3sg_m"/></let>
           </when>
	   <when>
	     <test><and>
	        <equal><clip pos="3" side="tl" part="a_anim"/><lit-tag v="aa"/></equal>
	        <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
	        <equal><clip pos="3" side="tl" part="gen"/><lit-tag v="f"/></equal>
	     </and></test>
	     <let><clip pos="4" side="tl" part="poss"/><lit-tag v="px3pl_f"/></let>
           </when>
	   <when>
	     <test><and>
	        <equal><clip pos="3" side="tl" part="a_anim"/><lit-tag v="aa"/></equal>
	        <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
	        <equal><clip pos="3" side="tl" part="gen"/><lit-tag v="m"/></equal>
	     </and></test>
	     <let><clip pos="4" side="tl" part="poss"/><lit-tag v="px3pl_m"/></let>
           </when>
	   <otherwise>
	     <let><clip pos="4" side="tl" part="poss"/><lit-tag v="px3sg_f"/></let>
	   </otherwise>
	 </choose>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
         <lu>
           <clip pos="1" side="tl" part="whole"/>
         </lu>
	 <b/>
	 <mlu>
           <lu>
             <clip pos="2" side="tl" part="whole"/>
           </lu>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="artic"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	 </mlu>
	 <b/>
	 <lu>
           <clip pos="4" side="tl" part="whole"/>
         </lu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 148: Madwar id-dinja kollha, _eluf ta’ nies_ jattendu għal kunċerti"> 
       <pattern>
         <pattern-item n="num_pl"/>  <!-- only pl?? -->
         <pattern-item n="ta_pr"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
         <lu>
           <clip pos="1" side="tl" part="lemh"/>
           <clip pos="1" side="tl" part="a_num"/>
           <clip pos="1" side="tl" part="gen"/>
           <clip pos="1" side="tl" part="nbr"/>
	   <lit-tag v="nom"/>
           <clip pos="1" side="tl" part="lemq"/>
         </lu>
	 <b/>
	 <lu>
	   <lit v="من"/>
	   <lit-tag v="pr"/>
	 </lu>
	 <b/>
	 <mlu>
	   <lu>
             <lit v="ال"/>
             <lit-tag v="det"/>
             <lit-tag v="def"/>
	   </lu>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <lit-tag v="pl"/>
             <lit-tag v="gen"/>
             <lit-tag v="artic"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	 </mlu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 149: B’hekk insibu li l-ibgħad missirijietna bdew jirriproduċu l-ħsejjes li _kienu jixbħu_ dak li jisimgħu fuq l-għoljiet"> 
       <pattern>
         <pattern-item n="kienpast"/>  <!-- only pl?? -->
         <pattern-item n="vrb"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
	 <out>
  	   <chunk name="verb">
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="2" side="tl" part="a_voice"/></tag> 
 	       <tag><clip pos="1" side="tl" part="temps"/></tag>
 	       <tag><clip pos="1" side="tl" part="pers"/></tag>
 	       <tag><clip pos="1" side="tl" part="gen"/></tag>
   	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags>
 	     <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="a_trans"/>
               <clip pos="1" side="tl" part="a_voice"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="gen" link-to="5"/>
               <clip pos="1" side="tl" part="nbr" link-to="6"/>
               <clip pos="1" side="tl" part="lemq"/>
 	     </lu>
	     <b/>
 	     <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="a_trans"/>
               <clip pos="2" side="tl" part="a_voice"/>
               <clip pos="2" side="tl" part="temps"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="gen" link-to="5"/>
               <clip pos="2" side="tl" part="nbr" link-to="6"/>
               <clip pos="2" side="tl" part="lemq"/>
 	     </lu>
 	   </chunk>
         </out>
       </action>
    </rule>


    <!-- hm, really strange; but of course it is possible to use more or less anything as a noun; this mt example corresponds is exactly "takie coś" in Polish -->
    <!-- also, it seems that in mt "that" is often used when "this" would be used in ar -->
    <rule comment="rule 150: sakemm minn _dik ix-xi ħaġa_ jirnexxielu joħloq ħaġa ġdida"> 
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="det"/>
         <pattern-item n="artic"/>
         <pattern-item n="pron"/>
       </pattern>
       <action>
         <call-macro n="adjf_concord2"><with-param pos="4"/><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="whole"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 151: F’kull ġurnata, minn fuq il-mezzi tax-xandir tisma’ l-mużika ta’ għamla differenti, _dik klassika_, _dik romantika_, _dik moderna_ u ta’ tipi oħra"> 
       <pattern>
         <pattern-item n="detdem"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="adjf_concord2"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <mlu>
             <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
             </lu>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_adj"/>
               <clip pos="2" side="tl" part="comp"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
               <lit-tag v="nom"/>
	       <lit-tag v="artic"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </mlu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 152: Biss, _dan il-fenomenu li_ sar hekk integrali mal-ħajja tagħna l-bnedmin, minn fejn kellu l-bidu">
       <pattern>
         <pattern-item n="detdem"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="rel"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
         <call-macro n="myf_concord2"><with-param pos="3"/><with-param pos="1"/></call-macro>
         <call-macro n="myf_concord2"><with-param pos="3"/><with-param pos="4"/></call-macro>
         <out>
	   <chunk name="det_art_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="3" side="tl" part="gen"/></tag>
	       <tag><clip pos="3" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="3" side="tl" part="nbr"/></tag>
	       <tag><clip pos="3" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
	     <b/>
  	     <mlu>
               <lu>
                 <clip pos="2" side="tl" part="whole"/>
               </lu>
               <lu>
                 <clip pos="3" side="tl" part="lemh"/>
                 <clip pos="3" side="tl" part="a_nom"/>
                 <clip pos="3" side="tl" part="gen"/>
                 <clip pos="3" side="tl" part="a_anim"/>
                 <clip pos="3" side="tl" part="nbr"/>
                 <clip pos="3" side="tl" part="case" link-to="5"/>
                 <clip pos="3" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	     <b/>
             <lu>
               <clip pos="4" side="tl" part="whole"/>
             </lu>
	   </chunk>
         </out>
       </action>
    </rule>

    <rule comment="rule 153: مثلا Bħal f’kull ħaġa oħra,"> 
       <pattern>
         <pattern-item n="nom"/>
	 <pattern-item n="postdet"/>  
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="1"/>
           <with-param pos="2"/>
	 </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="whole"/>
           </lu>
	 </chunk></out>
       </action>
    </rule>


    <rule comment="rule 154: B’hekk il-bniedem ntebah li zokk vojt, meta kien jonfoh fih, seta’ jbiddel _il-ħoss tiegħu_"> 
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="prn_suff_to_px"><with-param pos="4"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
             <var n="px"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 155: kellu ('to have') past + obj: Biss, dan il-fenomenu li sar hekk integrali mal-ħajja tagħna l-bnedmin, minn fejn _kellu l-bidu_">
       <pattern>
         <pattern-item n="kellupast"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro> 
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
	 <let><var n="genero"/><clip pos="1" side="tl" part="gen"/></let>
	 <let><var n="numero"/><clip pos="1" side="tl" part="nbr"/></let>
         <call-macro n="verbf_concord2"><with-param pos="1"/><with-param pos="3"/></call-macro>
         <out>
	   <chunk name="kien">  
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="actv"/></tag>  <!-- hm -->
 	       <tag><lit-tag v="past"/></tag>
 	       <tag><lit-tag v="p3"/></tag>
 	       <tag><clip pos="1" side="tl" part="gen"/></tag>
   	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags>
             <lu>
  	       <lit v="كان"/>
	       <lit-tag v="vaux"/>
	       <lit-tag v="iv"/> 
	       <lit-tag v="actv"/> 
  	       <lit-tag v="past"/>
	       <lit-tag v="p3"/>
               <clip pos="1" side="tl" part="gen" link-to="5"/>
               <clip pos="1" side="tl" part="nbr" link-to="6"/>
             </lu>
           </chunk>
	   <b/>
	   <chunk name="prep_prn"> 
 	     <tags>
 	       <tag><lit-tag v="SP"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><var n="genero"/></tag>
               <tag><var n="numero"/></tag>
 	     </tags>
  	     <mlu>
	       <lu>
                 <lit v="عند"/>
                 <lit-tag v="pr"/>
	       </lu>
	       <lu>
                 <lit v="ه"/>
                 <lit-tag v="prn"/>
                 <clip pos="1" side="tl" part="pers"/>
                 <var n="genero"/>
                 <var n="numero"/>
               </lu>
  	     </mlu>
           </chunk>
	   <b/>
	   <chunk name="art_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="3" side="tl" part="gen"/></tag>
	       <tag><clip pos="3" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="3" side="tl" part="nbr"/></tag>
	       <tag><clip pos="3" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
  	     <mlu>
               <lu>
                 <clip pos="2" side="tl" part="whole"/>
               </lu>
	       <lu>
	         <clip pos="3" side="tl" part="lemh"/>
                 <clip pos="3" side="tl" part="a_nom"/>
                 <clip pos="3" side="tl" part="gen"/>
                 <clip pos="3" side="tl" part="a_anim"/>
                 <clip pos="3" side="tl" part="nbr"/>
	         <clip pos="3" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="3" side="tl" part="lemq"/>
 	       </lu>
  	     </mlu>
	   </chunk>
	 </out>
       </action>
    </rule>


   <!-- This one is really interesting. Actually, I don't know if there is one solution that would work in every case, adjective maybe? the one used below, with 'ك', is almost certainly not the best one -->
   <!-- Hm, even more interesting than I first thought: there is no second ta', it's not "l-ħajja tagħna tal-bnedmin", but "l-ħajja tagħna l-bnedmin"! So what is it? complete misunderstanding of the construct state? --> 

   <rule comment="rule 156: dan il-fenomenu li sar hekk integrali mal-ħajja tagħna l-bnedmin">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="u_prn"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <call-macro n="prn_suff_to_px"><with-param pos="5"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <var n="px"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
	     <lu>
	       <lit v="ك"/>
	       <lit-tag v="pr"/>
	     </lu>
             <lu>
               <clip pos="6" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="7" side="tl" part="lemh"/>
               <clip pos="7" side="tl" part="a_nom"/>
               <clip pos="7" side="tl" part="gen"/>
               <clip pos="7" side="tl" part="a_anim"/>
               <clip pos="7" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="7" side="tl" part="lemq"/>
             </lu>
	   </mlu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 157: B’hekk insibu li l-ibgħad missirijietna bdew jirriproduċu l-ħsejjes li kienu jixbħu dak li jisimgħu fuq l-għoljiet u fil-widien">
       <pattern>
         <pattern-item n="pron"/>  <!-- any pron? 'dak' only? -->
         <pattern-item n="rel"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <lit v="ما"/>
             <lit-tag v="rel"/>
             <lit-tag v="nn"/>
             <lit-tag v="mf"/>
             <lit-tag v="sp"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 158: cnjsub + acc, B’hekk il-bniedem ntebah li zokk vojt, meta kien jonfoh fih, seta’ jbiddel il-ħoss tiegħu.">  
       <pattern>
         <pattern-item n="cnjsub"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
         <call-macro n="adjf_concord2"><with-param pos="2"/><with-param pos="3"/></call-macro>
	 <choose>
	   <when>
	     <test><in><clip pos="1" side="tl" part="lem"/><list n="cnjsub_acc"/></in></test>
	     <let><clip pos="2" side="tl" part="case"/><lit-tag v="acc"/></let>
	     <let><clip pos="3" side="tl" part="case"/><lit-tag v="acc"/></let>
	   </when>
	 </choose>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>      
	     <clip pos="1" side="tl" part="whole"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
	     <clip pos="2" side="tl" part="case"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_adj"/>
             <clip pos="3" side="tl" part="comp"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
	     <clip pos="3" side="tl" part="case"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 159: Fil-fatt _is-Salmi ta’ David_ għadhom sallum użati fis-servizzi reliġjużi tal-Lhud u tal-Kattoliċi.">  
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="np"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="4"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
	     <clip pos="2" side="tl" part="case"/>
	     <lit-tag v="cstr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
	     <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="nbr"/>
	     <lit-tag v="gen"/>
 	     <clip pos="4" side="tl" part="lemq"/>
 	   </lu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 160: Għalkemm il-Griegi ħallewlna wirt kbir, tista’ tgħid li _fl-oqsma kollha ta’ l-arti_, ftit għad baqgħalna tifkiriet tal-mużika tagħhom.">  
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="det_px"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="7"/></call-macro>
	 <choose>  
	   <when>
	     <test><and>
	        <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
	        <equal><clip pos="3" side="tl" part="gen"/><lit-tag v="f"/></equal>
	     </and></test>
	     <let><clip pos="4" side="tl" part="poss"/><lit-tag v="px3sg_f"/></let>
           </when>
	   <when>
	     <test><and>
	        <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
	        <equal><clip pos="3" side="tl" part="gen"/><lit-tag v="m"/></equal>
	     </and></test>
	     <let><clip pos="4" side="tl" part="poss"/><lit-tag v="px3sg_m"/></let>
           </when>
	   <when>
	     <test><and>
	        <equal><clip pos="3" side="tl" part="a_anim"/><lit-tag v="aa"/></equal>
	        <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
	        <equal><clip pos="3" side="tl" part="gen"/><lit-tag v="f"/></equal>
	     </and></test>
	     <let><clip pos="4" side="tl" part="poss"/><lit-tag v="px3pl_f"/></let>
           </when>
	   <when>
	     <test><and>
	        <equal><clip pos="3" side="tl" part="a_anim"/><lit-tag v="aa"/></equal>
	        <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
	        <equal><clip pos="3" side="tl" part="gen"/><lit-tag v="m"/></equal>
	     </and></test>
	     <let><clip pos="4" side="tl" part="poss"/><lit-tag v="px3pl_m"/></let>
           </when>
	   <otherwise>
	     <let><clip pos="4" side="tl" part="poss"/><lit-tag v="px3sg_f"/></let>
	   </otherwise>
	 </choose>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
  	   <mlu>
             <lu>
               <clip pos="6" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="7" side="tl" part="lemh"/>
               <clip pos="7" side="tl" part="a_nom"/>
               <clip pos="7" side="tl" part="gen"/>
               <clip pos="7" side="tl" part="a_anim"/>
               <clip pos="7" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="7" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="whole"/>
           </lu>
         </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 161: tista’ tgħid li fl-oqsma kollha ta’ l-arti, ftit baqgħalna _tifkiriet tal-mużika tagħhom_">  
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="5"/></call-macro>
         <call-macro n="prn_suff_to_px"><with-param pos="7"/></call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="5" side="tl" part="lemh"/>
             <clip pos="5" side="tl" part="a_nom"/>
             <clip pos="5" side="tl" part="gen"/>
             <clip pos="5" side="tl" part="a_anim"/>
             <clip pos="5" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <var n="px"/>
             <clip pos="5" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule> 


   <rule comment="rule 162: Barra minn hekk, f’bosta drammi Griegi niltaqgħu mal-kor li kellu jkanta siltiet mid-dramm">
       <pattern>
         <pattern-item n="detqnt"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="1"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
         <call-macro n="adjf_concord2"><with-param pos="2"/><with-param pos="3"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_adj"/>
               <clip pos="3" side="tl" part="comp"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
	   </mlu>
         </chunk></out>
       </action>
    </rule>

    <!-- just great: there is +/- "have to" construction ("I have to go") in mt! -->
    <!-- hm; not only: it's also sth like "his/her/its role is to..." -->
    <!-- :(( --> 

   <rule comment="rule 163: Barra minn hekk, f’bosta drammi Griegi niltaqgħu mal-kor li _kellu jkanta_ siltiet mid-dramm">
       <pattern>
         <pattern-item n="kellupast"/>
         <pattern-item n="vrbpres"/>
       </pattern>
       <action>  <!-- check if gender/number/person are the same? -->
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro> 
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro> 
         <call-macro n="prn_suff_to_px"><with-param pos="1"/></call-macro> <!-- hm, should work; I didn't expect such a conversion -->
	 <let><clip pos="2" side="tl" part="temps"/><lit-tag v="apocop"/></let>
         <out>
	   <chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
             <lu>
  	       <lit v="كان"/>
	       <lit-tag v="vaux"/>
	       <lit-tag v="iv"/> 
	       <lit-tag v="actv"/> 
  	       <lit-tag v="past"/>
	       <lit-tag v="p3"/>
               <lit-tag v="m"/>
               <lit-tag v="sg"/>
             </lu>
	     <b/>
             <lu>
  	       <lit v="دور"/>
	       <lit-tag v="n"/>
	       <lit-tag v="m"/> 
	       <lit-tag v="nn"/>
	       <lit-tag v="sg"/> 
  	       <lit-tag v="nom"/>
	       <var n="px"/>
             </lu>
	     <b/>
             <lu>
  	       <lit v="أن"/>
	       <lit-tag v="cnjsub"/>
             </lu>
	     <b/>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule>


  </section-rules>

</transfer>
